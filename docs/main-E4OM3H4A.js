var FA=Object.defineProperty,LA=Object.defineProperties;var VA=Object.getOwnPropertyDescriptors;var IE=Object.getOwnPropertySymbols;var jA=Object.prototype.hasOwnProperty,BA=Object.prototype.propertyIsEnumerable;var DE=(n,e,t)=>e in n?FA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})jA.call(e,t)&&DE(n,t,e[t]);if(IE)for(var t of IE(e))BA.call(e,t)&&DE(n,t,e[t]);return n},ye=(n,e)=>LA(n,VA(e));var Xh;function Qc(){return Xh}function on(n){let e=Xh;return Xh=n,e}var TE=Symbol("NotFound");function Mi(n){return n===TE||n?.name==="\u0275NotFound"}function ef(n,e){return Object.is(n,e)}var it=null,Yc=!1,tf=1,UA=null,mt=Symbol("SIGNAL");function J(n){let e=it;return it=n,e}function Jc(){return it}var Cs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ss(n){if(Yc)throw new Error("");if(it===null)return;it.consumerOnSignalRead(n);let e=it.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=it.recomputing;if(r&&(t=e!==void 0?e.nextProducer:it.producers,t!==void 0&&t.producer===n)){it.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===it&&(!r||HA(i,it)))return;let o=ki(it),s={producer:n,consumer:it,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};it.producersTail=s,e!==void 0?e.nextProducer=s:it.producers=s,o&&CE(n,s)}function bE(){tf++}function nf(n){if(!(ki(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===tf)){if(!n.producerMustRecompute(n)&&!Rs(n)){Zc(n);return}n.producerRecomputeValue(n),Zc(n)}}function rf(n){if(n.consumers===void 0)return;let e=Yc;Yc=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||$A(r)}}finally{Yc=e}}function of(){return it?.consumerAllowSignalWrites!==!1}function $A(n){n.dirty=!0,rf(n),n.consumerMarkedDirty?.(n)}function Zc(n){n.dirty=!1,n.lastCleanEpoch=tf}function As(n){return n&&(n.producersTail=void 0,n.recomputing=!0),J(n)}function Xc(n,e){if(J(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(ki(n))do r=sf(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Rs(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(nf(t),r!==t.version))return!0}return!1}function Ns(n){if(ki(n)){let e=n.producers;for(;e!==void 0;)e=sf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function CE(n,e){let t=n.consumersTail,r=ki(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)CE(i.producer,i)}function sf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ki(e)){let o=e.producers;for(;o!==void 0;)o=sf(o)}return t}function ki(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function af(n){UA?.(n)}function HA(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function zA(){throw new Error}var SE=zA;function AE(n){SE(n)}function cf(n){SE=n}var qA=null;function uf(n,e){let t=Object.create(eu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>RE(t);return r[mt]=t,af(t),[r,s=>xi(t,s),s=>lf(t,s)]}function RE(n){return Ss(n),n.value}function xi(n,e){of()||AE(n),n.equal(n.value,e)||(n.value=e,WA(n))}function lf(n,e){of()||AE(n),xi(n,e(n.value))}var eu=ye(O({},Cs),{equal:ef,value:void 0,kind:"signal"});function WA(n){n.version++,bE(),rf(n),qA?.(n)}function q(n){return typeof n=="function"}function Pi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var tu=Pi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function xr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ce=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(o){e=o instanceof tu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{NE(o)}catch(s){e=e??[],s instanceof tu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)NE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&xr(t,e)}remove(e){let{_finalizers:t}=this;t&&xr(t,e),e instanceof n&&e._removeParent(this)}};Ce.EMPTY=(()=>{let n=new Ce;return n.closed=!0,n})();var df=Ce.EMPTY;function nu(n){return n instanceof Ce||n&&"closed"in n&&q(n.remove)&&q(n.add)&&q(n.unsubscribe)}function NE(n){q(n)?n():n.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(n,e,...t){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Oi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ru(n){Oi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(n);else throw n})}function Ms(){}var ME=hf("C",void 0,void 0);function kE(n){return hf("E",void 0,n)}function xE(n){return hf("N",n,void 0)}function hf(n,e,t){return{kind:n,value:e,error:t}}var Pr=null;function Fi(n){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!Pr;if(e&&(Pr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Pr;if(Pr=null,t)throw r}}else n()}function PE(n){Ht.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=n)}var Or=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nu(e)&&e.add(this)):this.destination=QA}static create(e,t,r){return new Li(e,t,r)}next(e){this.isStopped?pf(xE(e),this):this._next(e)}error(e){this.isStopped?pf(kE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pf(ME,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GA=Function.prototype.bind;function ff(n,e){return GA.call(n,e)}var gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){iu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){iu(r)}else iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){iu(t)}}},Li=class extends Or{constructor(e,t,r){super();let i;if(q(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ff(e.next,o),error:e.error&&ff(e.error,o),complete:e.complete&&ff(e.complete,o)}):i=e}this.destination=new gf(i)}};function iu(n){Ht.useDeprecatedSynchronousErrorHandling?PE(n):ru(n)}function KA(n){throw n}function pf(n,e){let{onStoppedNotification:t}=Ht;t&&Oi.setTimeout(()=>t(n,e))}var QA={closed:!0,next:Ms,error:KA,complete:Ms};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(n){return n}function ou(...n){return mf(n)}function mf(n){return n.length===0?bt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var G=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ZA(t)?t:new Li(t,r,i);return Fi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=OE(r),new r((i,o)=>{let s=new Li({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vi](){return this}pipe(...t){return mf(t)(this)}toPromise(t){return t=OE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function OE(n){var e;return(e=n??Ht.Promise)!==null&&e!==void 0?e:Promise}function YA(n){return n&&q(n.next)&&q(n.error)&&q(n.complete)}function ZA(n){return n&&n instanceof Or||YA(n)&&nu(n)}function yf(n){return q(n?.lift)}function re(n){return e=>{if(yf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,e,t,r,i){return new vf(n,e,t,r,i)}var vf=class extends Or{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ji(){return re((n,e)=>{let t=null;n._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Bi=class extends G{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let t=this.getSubject();e.add(this.source.subscribe(ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return ji()(this)}};var FE=Pi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class n extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new su(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new FE}next(t){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?df:(this.currentObservers=null,o.push(t),new Ce(()=>{this.currentObservers=null,xr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new G;return t.source=this,t}}return n.create=(e,t)=>new su(e,t),n})(),su=class extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:df}};var Ze=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _f={now(){return(_f.delegate||Date).now()},delegate:void 0};var au=class extends Ce{constructor(e,t){super()}schedule(e,t=0){return this}};var ks={setInterval(n,e,...t){let{delegate:r}=ks;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ui=class extends au{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ks.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var $i=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};$i.now=_f.now;var Hi=class extends $i{constructor(e,t=$i.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var xs=new Hi(Ui);var cu=class extends Ui{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var uu=class extends Hi{};var Ef=new uu(cu);var yt=new G(n=>n.complete());function LE(n){return n&&q(n.schedule)}function VE(n){return n[n.length-1]}function jE(n){return q(VE(n))?n.pop():void 0}function Xn(n){return LE(VE(n))?n.pop():void 0}function wf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function UE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{d(r.next(f))}catch(p){s(p)}}function u(f){try{d(r.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(c,u)}d((r=r.apply(n,e||[])).next())})}function BE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fr(n){return this instanceof Fr?(this.v=n,this):new Fr(n)}function $E(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function c(v,S){r[v]&&(i[v]=function(R){return new Promise(function(N,F){o.push([v,R,N,F])>1||u(v,R)})},S&&(i[v]=S(i[v])))}function u(v,S){try{d(r[v](S))}catch(R){m(o[0][3],R)}}function d(v){v.value instanceof Fr?Promise.resolve(v.value.v).then(f,p):m(o[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function HE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof BE=="function"?BE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var lu=n=>n&&typeof n.length=="number"&&typeof n!="function";function du(n){return q(n?.then)}function hu(n){return q(n[Vi])}function fu(n){return Symbol.asyncIterator&&q(n?.[Symbol.asyncIterator])}function pu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gu=JA();function mu(n){return q(n?.[gu])}function yu(n){return $E(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fr(t.read());if(i)return yield Fr(void 0);yield yield Fr(r)}}finally{t.releaseLock()}})}function vu(n){return q(n?.getReader)}function ze(n){if(n instanceof G)return n;if(n!=null){if(hu(n))return XA(n);if(lu(n))return eR(n);if(du(n))return tR(n);if(fu(n))return zE(n);if(mu(n))return nR(n);if(vu(n))return rR(n)}throw pu(n)}function XA(n){return new G(e=>{let t=n[Vi]();if(q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eR(n){return new G(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function tR(n){return new G(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ru)})}function nR(n){return new G(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function zE(n){return new G(e=>{iR(n,e).catch(t=>e.error(t))})}function rR(n){return zE(yu(n))}function iR(n,e){var t,r,i,o;return UE(this,void 0,void 0,function*(){try{for(t=HE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function er(n,e=0){return re((t,r)=>{t.subscribe(ie(r,i=>vt(r,n,()=>r.next(i),e),()=>vt(r,n,()=>r.complete(),e),i=>vt(r,n,()=>r.error(i),e)))})}function tr(n,e=0){return re((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function qE(n,e){return ze(n).pipe(tr(e),er(e))}function WE(n,e){return ze(n).pipe(tr(e),er(e))}function GE(n,e){return new G(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function KE(n,e){return new G(t=>{let r;return vt(t,e,()=>{r=n[gu](),vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function _u(n,e){if(!n)throw new Error("Iterable cannot be null");return new G(t=>{vt(t,e,()=>{let r=n[Symbol.asyncIterator]();vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function QE(n,e){return _u(yu(n),e)}function YE(n,e){if(n!=null){if(hu(n))return qE(n,e);if(lu(n))return GE(n,e);if(du(n))return WE(n,e);if(fu(n))return _u(n,e);if(mu(n))return KE(n,e);if(vu(n))return QE(n,e)}throw pu(n)}function Ae(n,e){return e?YE(n,e):ze(n)}function H(...n){let e=Xn(n);return Ae(n,e)}function zi(n,e){let t=q(n)?n:()=>n,r=i=>i.error(t());return new G(e?i=>e.schedule(r,0,i):r)}function If(n){return!!n&&(n instanceof G||q(n.lift)&&q(n.subscribe))}var Sn=Pi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return re((t,r)=>{let i=0;t.subscribe(ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:oR}=Array;function sR(n,e){return oR(e)?n(...e):n(e)}function ZE(n){return X(e=>sR(n,e))}var{isArray:aR}=Array,{getPrototypeOf:cR,prototype:uR,keys:lR}=Object;function JE(n){if(n.length===1){let e=n[0];if(aR(e))return{args:e,keys:null};if(dR(e)){let t=lR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function dR(n){return n&&typeof n=="object"&&cR(n)===uR}function XE(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function qi(...n){let e=Xn(n),t=jE(n),{args:r,keys:i}=JE(n);if(r.length===0)return Ae([],e);let o=new G(hR(r,e,i?s=>XE(i,s):bt));return t?o.pipe(ZE(t)):o}function hR(n,e,t=bt){return r=>{ew(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)ew(e,()=>{let d=Ae(n[u],e),f=!1;d.subscribe(ie(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ew(n,e,t){n?vt(t,n,e):e()}function tw(n,e,t,r,i,o,s,c){let u=[],d=0,f=0,p=!1,m=()=>{p&&!u.length&&!d&&e.complete()},v=R=>d<r?S(R):u.push(R),S=R=>{o&&e.next(R),d++;let N=!1;ze(t(R,f++)).subscribe(ie(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let F=u.shift();s?vt(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ie(e,v,()=>{p=!0,m()})),()=>{c?.()}}function Ve(n,e,t=1/0){return q(e)?Ve((r,i)=>X((o,s)=>e(r,o,i,s))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),re((r,i)=>tw(r,i,n,t)))}function nw(n=1/0){return Ve(bt,n)}function rw(){return nw(1)}function nr(...n){return rw()(Ae(n,Xn(n)))}function Ps(n){return new G(e=>{ze(n()).subscribe(e)})}function lt(n,e){return re((t,r)=>{let i=0;t.subscribe(ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function rr(n){return re((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ie(t,void 0,void 0,s=>{o=ze(n(s,rr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function iw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,d=0;o.subscribe(ie(s,f=>{let p=d++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Wi(n,e){return q(e)?Ve(n,e,1):Ve(n,1)}function Df(n,e=xs){return re((t,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function u(){let d=s+n,f=e.now();if(f<d){i=this.schedule(void 0,d-f),r.add(i);return}c()}t.subscribe(ie(r,d=>{o=d,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function ir(n){return re((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zt(n){return n<=0?()=>yt:re((e,t)=>{let r=0;e.subscribe(ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Eu(n=fR){return re((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fR(){return new Sn}function Os(n){return re((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function An(n,e){let t=arguments.length>=2;return r=>r.pipe(n?lt((i,o)=>n(i,o,r)):bt,zt(1),t?ir(e):Eu(()=>new Sn))}function Gi(n){return n<=0?()=>yt:re((e,t)=>{let r=[];e.subscribe(ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?lt((i,o)=>n(i,o,r)):bt,Gi(1),t?ir(e):Eu(()=>new Sn))}function wu(n,e){return re(iw(n,e,arguments.length>=2,!0))}function bf(n){return lt((e,t)=>n<=t)}function Ki(...n){let e=Xn(n);return re((t,r)=>{(e?nr(n,t,e):nr(n,t)).subscribe(r)})}function _t(n,e){return re((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ie(r,u=>{i?.unsubscribe();let d=0,f=o++;ze(n(u,f)).subscribe(i=ie(r,p=>r.next(e?e(u,p,f,d++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Qi(n){return re((e,t)=>{ze(n).subscribe(ie(t,()=>t.complete(),Ms)),!t.closed&&e.subscribe(t)})}function qe(n,e,t){let r=q(n)||e||t?{next:n,error:e,complete:t}:n;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ie(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):bt}function ow(n){let e=J(null);try{return n()}finally{J(e)}}var Su="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(Au(e,t)),this.code=e}};function pR(n){return`NG0${Math.abs(n)}`}function Au(n,e){return`${pR(n)}${e?": "+e:""}`}var Bs=globalThis;function he(n){for(let e in n)if(n[e]===he)return e;throw Error("")}function or(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(or).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Vf(n,e){return n?e?`${n} ${e}`:n:e||""}var gR=he({__forward_ref__:he});function Ru(n){return n.__forward_ref__=Ru,n.toString=function(){return or(this())},n}function Et(n){return jf(n)?n():n}function jf(n){return typeof n=="function"&&n.hasOwnProperty(gR)&&n.__forward_ref__===Ru}function uw(n,e){n==null&&Bf(e,n,null,"!=")}function Bf(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function je(n){return{providers:n.providers||[],imports:n.imports||[]}}function Us(n){return mR(n,Nu)}function Uf(n){return Us(n)!==null}function mR(n,e){return n.hasOwnProperty(e)&&n[e]||null}function yR(n){let e=n?.[Nu]??null;return e||null}function Sf(n){return n&&n.hasOwnProperty(Du)?n[Du]:null}var Nu=he({\u0275prov:he}),Du=he({\u0275inj:he}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $f(n){return n&&!!n.\u0275providers}var Hf=he({\u0275cmp:he}),zf=he({\u0275dir:he}),qf=he({\u0275pipe:he}),Wf=he({\u0275mod:he}),Vs=he({\u0275fac:he}),Ur=he({__NG_ELEMENT_ID__:he}),aw=he({__NG_ENV_ID__:he});function $s(n){return typeof n=="string"?n:n==null?"":String(n)}function Tu(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():$s(n)}var Gf=he({ngErrorCode:he}),lw=he({ngErrorMessage:he}),Ls=he({ngTokenPath:he});function Kf(n,e){return dw("",-200,e)}function Mu(n,e){throw new j(-201,!1)}function vR(n,e){n[Ls]??=[];let t=n[Ls],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(uw(e.provide,"Token with multi: true should have a provide property"),r=Tu(e.provide)):r=Tu(e),t[0]!==r&&n[Ls].unshift(r)}function _R(n,e){let t=n[Ls],r=n[Gf],i=n[lw]||n.message;return n.message=wR(i,r,t,e),n}function dw(n,e,t){let r=new j(e,n);return r[Gf]=e,r[lw]=n,t&&(r[Ls]=t),r}function ER(n){return n[Gf]}function wR(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Au(e,`${n}${o}${i}`)}var Af;function hw(){return Af}function Ct(n){let e=Af;return Af=n,e}function Qf(n,e,t){let r=Us(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Mu(n,"Injector")}var IR={},Lr=IR,Rf="__NG_DI_FLAG__",Nf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Vr(t)||0;try{return this.injector.get(e,r&8?null:Lr,r)}catch(i){if(Mi(i))return i;throw i}}};function DR(n,e=0){let t=Qc();if(t===void 0)throw new j(-203,!1);if(t===null)return Qf(n,void 0,e);{let r=TR(e),i=t.retrieve(n,r);if(Mi(i)){if(r.optional)return null;throw i}return i}}function $(n,e=0){return(hw()||DR)(Et(n),e)}function A(n,e){return $(n,Vr(e))}function Vr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function TR(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Mf(n){let e=[];for(let t=0;t<n.length;t++){let r=Et(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=bR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push($(i,o))}else e.push($(r))}return e}function fw(n,e){return n[Rf]=e,n.prototype[Rf]=e,n}function bR(n){return n[Rf]}function jr(n,e){let t=n.hasOwnProperty(Vs);return t?n[Vs]:null}function ku(n,e){n.forEach(t=>Array.isArray(t)?ku(t,e):e(t))}function Yf(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Hs(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var $r={},qt=[],cr=new B(""),Zf=new B("",-1),Jf=new B(""),js=class{get(e,t=Lr){if(t===Lr){let i=dw("",-201);throw i.name="\u0275NotFound",i}return t}};function Xf(n){return n[Wf]||null}function ur(n){return n[Hf]||null}function ep(n){return n[zf]||null}function pw(n){return n[qf]||null}function lr(n){return{\u0275providers:n}}function gw(...n){return{\u0275providers:tp(!0,n),\u0275fromNgModule:!0}}function tp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ku(e,s=>{let c=s;bu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&mw(i,o),t}function mw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];np(i,o=>{e(o,r)})}}function bu(n,e,t,r){if(n=Et(n),!n)return!1;let i=null,o=Sf(n),s=!o&&ur(n);if(!o&&!s){let u=n.ngModule;if(o=Sf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)bu(d,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{ku(o.imports,f=>{bu(f,e,t,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&mw(d,e)}if(!c){let d=jr(i)||(()=>new i);e({provide:i,useFactory:d,deps:qt},i),e({provide:Jf,useValue:i,multi:!0},i),e({provide:cr,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=n;np(u,f=>{e(f,d)})}}else return!1;return i!==n&&n.providers!==void 0}function np(n,e){for(let t of n)$f(t)&&(t=t.\u0275providers),Array.isArray(t)?np(t,e):e(t)}var CR=he({provide:String,useValue:he});function yw(n){return n!==null&&typeof n=="object"&&CR in n}function SR(n){return!!(n&&n.useExisting)}function AR(n){return!!(n&&n.useFactory)}function Cu(n){return typeof n=="function"}var zs=new B(""),Iu={},cw={},Cf;function qs(){return Cf===void 0&&(Cf=new js),Cf}var xe=class{},Br=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,xf(e,s=>this.processProvider(s)),this.records.set(Zf,Yi(void 0,this)),i.has("environment")&&this.records.set(xe,Yi(void 0,this));let o=this.records.get(zs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jf,qt,{self:!0}))}retrieve(e,t){let r=Vr(t)||0;try{return this.get(e,Lr,r)}catch(i){if(Mi(i))return i;throw i}}destroy(){Fs(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return Fs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fs(this);let t=on(this),r=Ct(void 0),i;try{return e()}finally{on(t),Ct(r)}}get(e,t=Lr,r){if(Fs(this),e.hasOwnProperty(aw))return e[aw](this);let i=Vr(r),o,s=on(this),c=Ct(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let f=xR(e)&&Us(e);f&&this.injectableDefInScope(f)?d=Yi(kf(e),Iu):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let u=i&2?qs():this.parent;return t=i&8&&t===Lr?null:t,u.get(e,t)}catch(u){let d=ER(u);throw d===-200||d===-201?new j(d,null):u}finally{Ct(c),on(s)}}resolveInjectorInitializers(){let e=J(null),t=on(this),r=Ct(void 0),i;try{let o=this.get(cr,qt,{self:!0});for(let s of o)s()}finally{on(t),Ct(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(or(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Et(e);let t=Cu(e)?e:Et(e&&e.provide),r=NR(e);if(!Cu(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Yi(void 0,Iu,!0),i.factory=()=>Mf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=J(null);try{if(t.value===cw)throw Kf(or(e));return t.value===Iu&&(t.value=cw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&kR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function kf(n){let e=Us(n),t=e!==null?e.factory:jr(n);if(t!==null)return t;if(n instanceof B)throw new j(204,!1);if(n instanceof Function)return RR(n);throw new j(204,!1)}function RR(n){if(n.length>0)throw new j(204,!1);let t=yR(n);return t!==null?()=>t.factory(n):()=>new n}function NR(n){if(yw(n))return Yi(void 0,n.useValue);{let e=vw(n);return Yi(e,Iu)}}function vw(n,e,t){let r;if(Cu(n)){let i=Et(n);return jr(i)||kf(i)}else if(yw(n))r=()=>Et(n.useValue);else if(AR(n))r=()=>n.useFactory(...Mf(n.deps||[]));else if(SR(n))r=(i,o)=>$(Et(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Et(n&&(n.useClass||n.provide));if(MR(n))r=()=>new i(...Mf(n.deps));else return jr(i)||kf(i)}return r}function Fs(n){if(n.destroyed)throw new j(205,!1)}function Yi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function MR(n){return!!n.deps}function kR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xR(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function xf(n,e){for(let t of n)Array.isArray(t)?xf(t,e):t&&$f(t)?xf(t.\u0275providers,e):e(t)}function Be(n,e){let t;n instanceof Br?(Fs(n),t=n):t=new Nf(n);let r,i=on(t),o=Ct(void 0);try{return e()}finally{on(i),Ct(o)}}function _w(){return hw()!==void 0||Qc()!=null}var Wt=0,ee=1,W=2,Je=3,Pt=4,Ot=5,Ws=6,Zi=7,wt=8,Hr=9,an=10,Ue=11,Ji=12,rp=13,Xi=14,Ft=15,zr=16,qr=17,Wr=18,Gs=19,ip=20,Rn=21,xu=22,Ks=23,St=24,Pu=25,At=26,Ew=1;var dr=7,Qs=8,Ys=9,It=10;function cn(n){return Array.isArray(n)&&typeof n[Ew]=="object"}function Gt(n){return Array.isArray(n)&&n[Ew]===!0}function op(n){return(n.flags&4)!==0}function hr(n){return n.componentOffset>-1}function Zs(n){return(n.flags&1)===1}function Gr(n){return!!n.template}function eo(n){return(n[W]&512)!==0}function Kr(n){return(n[W]&256)===256}var ww="svg",Iw="math";function Lt(n){for(;Array.isArray(n);)n=n[Wt];return n}function Dw(n,e){return Lt(e[n])}function Kt(n,e){return Lt(e[n.index])}function Ou(n,e){return n.data[e]}function Vt(n,e){let t=e[n];return cn(t)?t:t[Wt]}function Fu(n){return(n[W]&128)===128}function Tw(n){return Gt(n[Je])}function Js(n,e){return e==null?null:n[e]}function sp(n){n[qr]=0}function ap(n){n[W]&1024||(n[W]|=1024,Fu(n)&&ea(n))}function Xs(n){return!!(n[W]&9216||n[St]?.dirty)}function Lu(n){n[an].changeDetectionScheduler?.notify(8),n[W]&64&&(n[W]|=1024),Xs(n)&&ea(n)}function ea(n){n[an].changeDetectionScheduler?.notify(0);let e=sr(n);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Fu(e)));)e=sr(e)}function cp(n,e){if(Kr(n))throw new j(911,!1);n[Rn]===null&&(n[Rn]=[]),n[Rn].push(e)}function bw(n,e){if(n[Rn]===null)return;let t=n[Rn].indexOf(e);t!==-1&&n[Rn].splice(t,1)}function sr(n){let e=n[Je];return Gt(e)?e[Je]:e}function Cw(n){return n[Zi]??=[]}function Sw(n){return n.cleanup??=[]}var ue={lFrame:$w(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ta=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(ta||{}),PR=0,Pf=!1;function Aw(){return ue.lFrame.elementDepthCount}function Rw(){ue.lFrame.elementDepthCount++}function Nw(){ue.lFrame.elementDepthCount--}function up(){return ue.bindingsEnabled}function Mw(){return ue.skipHydrationRootTNode!==null}function kw(n){return ue.skipHydrationRootTNode===n}function xw(){ue.skipHydrationRootTNode=null}function Se(){return ue.lFrame.lView}function fr(){return ue.lFrame.tView}function Rt(){let n=lp();for(;n!==null&&n.type===64;)n=n.parent;return n}function lp(){return ue.lFrame.currentTNode}function Pw(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function to(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function dp(){return ue.lFrame.isParent}function Ow(){ue.lFrame.isParent=!1}function hp(n){Bf("Must never be called in production mode"),PR=n}function fp(){return Pf}function pp(n){let e=Pf;return Pf=n,e}function Fw(){let n=ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Lw(n){return ue.lFrame.bindingIndex=n}function Vu(){return ue.lFrame.bindingIndex++}function Vw(){return ue.lFrame.inI18n}function jw(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,ju(e)}function Bw(){return ue.lFrame.currentDirectiveIndex}function ju(n){ue.lFrame.currentDirectiveIndex=n}function gp(n){ue.lFrame.currentQueryIndex=n}function OR(n){let e=n[ee];return e.type===2?e.declTNode:e.type===1?n[Ot]:null}function mp(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=OR(o),i===null||(o=o[Xi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ue.lFrame=Uw();return r.currentTNode=e,r.lView=n,!0}function Bu(n){let e=Uw(),t=n[ee];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Uw(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?$w(n):e}function $w(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Hw(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var yp=Hw;function Uu(){let n=Hw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $u(){return ue.lFrame.selectedIndex}function pr(n){ue.lFrame.selectedIndex=n}function vp(){let n=ue.lFrame;return Ou(n.tView,n.selectedIndex)}function zw(){return ue.lFrame.currentNamespace}var qw=!0;function Hu(){return qw}function zu(n){qw=n}var FR={elements:void 0};function qu(){return FR}function Of(n,e=null,t=null,r){let i=_p(n,e,t,r);return i.resolveInjectorInitializers(),i}function _p(n,e=null,t=null,r,i=new Set){let o=[t||qt,gw(n)];return r=r||(typeof n=="object"?void 0:or(n)),new Br(o,e||qs(),r||null,i)}var Xe=class n{static THROW_IF_NOT_FOUND=Lr;static NULL=new js;static create(e,t){if(Array.isArray(e))return Of({name:""},t,e,"");{let r=e.name??"";return Of({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>$(Zf)});static __NG_ELEMENT_ID__=-1},$e=new B(""),Qr=(()=>{class n{static __NG_ELEMENT_ID__=LR;static __NG_ENV_ID__=t=>t}return n})(),Ff=class extends Qr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Kr(this._lView)}onDestroy(e){let t=this._lView;return cp(t,e),()=>bw(t,e)}};function LR(){return new Ff(Se())}var sn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Nt=new B("",{providedIn:"root",factory:()=>{let n=A(xe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(sn),e.handleError(t))}}}),Ww={provide:cr,useValue:()=>void A(sn),multi:!0};function Nn(n,e){let[t,r,i]=uf(n,e?.equal),o=t,s=o[mt];return o.set=r,o.update=i,o.asReadonly=Gw.bind(o),o}function Gw(){let n=this[mt];if(n.readonlyFn===void 0){let e=()=>this();e[mt]=n,n.readonlyFn=e}return n.readonlyFn}var ar=class{},Wu=new B("",{providedIn:"root",factory:()=>!1});var Ep=new B(""),wp=new B("");var un=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),no=(()=>{class n{internalPendingTasks=A(un);scheduler=A(ar);errorHandler=A(Nt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})();function na(...n){}var Ip=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Lf})}return n})(),Lf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function co(n){return{toString:n}.toString()}var Gu="__parameters__";function YR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ZR(n,e,t){return co(()=>{let r=YR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,d,f){let p=u.hasOwnProperty(Gu)?u[Gu]:Object.defineProperty(u,Gu,{value:[]})[Gu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var kn=fw(ZR("Optional"),8);function JR(n){return typeof n=="function"}var Ju=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function DI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var xn=(()=>{let n=()=>TI;return n.ngInherit=!0,n})();function TI(n){return n.type.prototype.ngOnChanges&&(n.setInput=eN),XR}function XR(){let n=CI(this),e=n?.current;if(e){let t=n.previous;if(t===$r)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function eN(n,e,t,r,i){let o=this.declaredInputs[r],s=CI(n)||tN(n,{previous:$r,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new Ju(d&&d.currentValue,t,u===$r),DI(n,e,i,t)}var bI="__ngSimpleChanges__";function CI(n){return n[bI]||null}function tN(n,e){return n[bI]=e}var Kw=[];var Ee=function(n,e=null,t){for(let r=0;r<Kw.length;r++){let i=Kw[r];i(n,e,t)}};function nN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function SI(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Qu(n,e,t){AI(n,e,3,t)}function Yu(n,e,t,r){(n[W]&3)===t&&AI(n,e,t,r)}function Dp(n,e){let t=n[W];(t&3)===e&&(t&=16383,t+=1,n[W]=t)}function AI(n,e,t,r){let i=r!==void 0?n[qr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[qr]+=65536),(c<o||o==-1)&&(rN(n,t,e,u),n[qr]=(n[qr]&4294901760)+u+2),u++}function Qw(n,e){Ee(4,n,e);let t=J(null);try{e.call(n)}finally{J(t),Ee(5,n,e)}}function rN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[W]>>14<n[qr]>>16&&(n[W]&3)===e&&(n[W]+=16384,Qw(c,o)):Qw(c,o)}var io=-1,oa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function iN(n){return(n.flags&8)!==0}function oN(n){return(n.flags&16)!==0}function sN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];aN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function RI(n){return n===3||n===4||n===6}function aN(n){return n.charCodeAt(0)===64}function Hp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Yw(n,t,i,null,e[++r]):Yw(n,t,i,null,null))}}return n}function Yw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function NI(n){return n!==io}function Xu(n){return n&32767}function cN(n){return n>>16}function el(n,e){let t=cN(n),r=e;for(;t>0;)r=r[Xi],t--;return r}var Ap=!0;function Zw(n){let e=Ap;return Ap=n,e}var uN=256,MI=uN-1,kI=5,lN=0,ln={};function dN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ur)&&(r=t[Ur]),r==null&&(r=t[Ur]=lN++);let i=r&MI,o=1<<i;e.data[n+(i>>kI)]|=o}function xI(n,e){let t=PI(n,e);if(t!==-1)return t;let r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,Tp(r.data,n),Tp(e,null),Tp(r.blueprint,null));let i=zp(n,e),o=n.injectorIndex;if(NI(i)){let s=Xu(i),c=el(i,e),u=c[ee].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function Tp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function PI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function zp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=jI(i),r===null)return io;if(t++,i=i[Xi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return io}function hN(n,e,t){dN(n,e,t)}function fN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(RI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function OI(n,e,t){if(t&8||n!==void 0)return n;Mu(e,"NodeInjector")}function FI(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Hr],o=Ct(void 0);try{return i?i.get(e,r,t&8):Qf(e,r,t&8)}finally{Ct(o)}}return OI(r,e,t)}function LI(n,e,t,r=0,i){if(n!==null){if(e[W]&2048&&!(r&2)){let s=vN(n,e,t,r,ln);if(s!==ln)return s}let o=VI(n,e,t,r,ln);if(o!==ln)return o}return FI(e,t,r,i)}function VI(n,e,t,r,i){let o=mN(t);if(typeof o=="function"){if(!mp(e,n,r))return r&1?OI(i,t,r):FI(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Mu(t);else return s}finally{yp()}}else if(typeof o=="number"){let s=null,c=PI(n,e),u=io,d=r&1?e[Ft][Ot]:null;for((c===-1||r&4)&&(u=c===-1?zp(n,e):e[c+8],u===io||!Xw(r,!1)?c=-1:(s=e[ee],c=Xu(u),e=el(u,e)));c!==-1;){let f=e[ee];if(Jw(o,c,f.data)){let p=pN(c,e,t,s,r,d);if(p!==ln)return p}u=e[c+8],u!==io&&Xw(r,e[ee].data[c+8]===d)&&Jw(o,c,e)?(s=f,c=Xu(u),e=el(u,e)):c=-1}}return i}function pN(n,e,t,r,i,o){let s=e[ee],c=s.data[n+8],u=r==null?hr(c)&&Ap:r!=s&&(c.type&3)!==0,d=i&1&&o===c,f=gN(c,s,t,u,d);return f!==null?Rp(e,s,f,c,i):ln}function gN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,d=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:d;for(let v=p;v<m;v++){let S=s[v];if(v<u&&t===S||v>=u&&S.type===t)return v}if(i){let v=s[u];if(v&&Gr(v)&&v.type===t)return u}return null}function Rp(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof oa){let c=o;if(c.resolving){let v=Tu(s[t]);throw Kf(v)}let u=Zw(c.canSeeViewProviders);c.resolving=!0;let d=s[t].type||s[t],f,p=c.injectImpl?Ct(c.injectImpl):null,m=mp(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&nN(t,s[t],e)}finally{p!==null&&Ct(p),Zw(u),c.resolving=!1,yp()}}return o}function mN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ur)?n[Ur]:void 0;return typeof e=="number"?e>=0?e&MI:yN:e}function Jw(n,e,t){let r=1<<n;return!!(t[e+(n>>kI)]&r)}function Xw(n,e){return!(n&2)&&!(n&1&&e)}var Yr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LI(this._tNode,this._lView,e,Vr(r),t)}};function yN(){return new Yr(Rt(),Se())}function ca(n){return co(()=>{let e=n.prototype.constructor,t=e[Vs]||Np(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Vs]||Np(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Np(n){return jf(n)?()=>{let e=Np(Et(n));return e&&e()}:jr(n)}function vN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!eo(s);){let c=VI(o,s,t,r|2,ln);if(c!==ln)return c;let u=o.parent;if(!u){let d=s[ip];if(d){let f=d.get(t,ln,r);if(f!==ln)return f}u=jI(s),s=s[Xi]}o=u}return i}function jI(n){let e=n[ee],t=e.type;return t===2?e.declTNode:t===1?n[Ot]:null}function ua(n){return fN(Rt(),n)}function _N(){return ll(Rt(),Se())}function ll(n,e){return new uo(Kt(n,e))}var uo=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=_N}return n})();function BI(n){return(n.flags&128)===128}var qp=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(qp||{}),UI=new Map,EN=0;function wN(){return EN++}function IN(n){UI.set(n[Gs],n)}function Mp(n){UI.delete(n[Gs])}var eI="__ngContext__";function oo(n,e){cn(e)?(n[eI]=e[Gs],IN(e)):n[eI]=e}function $I(n){return zI(n[Ji])}function HI(n){return zI(n[Pt])}function zI(n){for(;n!==null&&!Gt(n);)n=n[Pt];return n}var kp;function Wp(n){kp=n}function qI(){if(kp!==void 0)return kp;if(typeof document<"u")return document;throw new j(210,!1)}var dl=new B("",{providedIn:"root",factory:()=>DN}),DN="ng",hl=new B(""),dn=new B("",{providedIn:"platform",factory:()=>"unknown"});var lo=new B("",{providedIn:"root",factory:()=>qI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TN="h",bN="b";var WI=!1,GI=new B("",{providedIn:"root",factory:()=>WI});var CN=(n,e,t,r)=>{};function SN(n,e,t,r){CN(n,e,t,r)}function Gp(n){return(n.flags&32)===32}var AN=()=>null;function KI(n,e,t=!1){return AN(n,e,t)}function QI(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];gp(o),c.contentQueries(2,e[s],s)}}}finally{J(r)}}}function xp(n,e,t){gp(0);let r=J(null);try{e(n,t)}finally{J(r)}}function YI(n,e,t){if(op(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{J(r)}}}var Mn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Mn||{});var Ku;function RN(){if(Ku===void 0&&(Ku=null,Bs.trustedTypes))try{Ku=Bs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ku}function tI(n){return RN()?.createScriptURL(n)||n}var tl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Su})`}};function Kp(n){return n instanceof tl?n.changingThisBreaksApplicationSecurity:n}function Qp(n,e){let t=ZI(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Su})`)}return t===e}function ZI(n){return n instanceof tl&&n.getTypeName()||null}var NN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function JI(n){return n=String(n),n.match(NN)?n:"unsafe:"+n}var fl=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(fl||{});function XI(n){let e=tD();return e?e.sanitize(fl.URL,n)||"":Qp(n,"URL")?Kp(n):JI($s(n))}function eD(n){let e=tD();if(e)return tI(e.sanitize(fl.RESOURCE_URL,n)||"");if(Qp(n,"ResourceURL"))return tI(Kp(n));throw new j(904,!1)}function MN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?eD:XI}function Yp(n,e,t){return MN(e,t)(n)}function tD(){let n=Se();return n&&n[an].sanitizer}function nD(n){return n instanceof Function?n():n}function kN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var rD="ng-template";function xN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Zp(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Zp(n){return n.type===4&&n.value!==rD}function PN(n,e,t){let r=n.type===4&&!t?rD:n.value;return e===r}function ON(n,e,t){let r=4,i=n.attrs,o=i!==null?VN(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Qt(r)&&!Qt(u))return!1;if(s&&Qt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!PN(n,u,t)||u===""&&e.length===1){if(Qt(r))return!1;s=!0}}else if(r&8){if(i===null||!xN(n,i,u,t)){if(Qt(r))return!1;s=!0}}else{let d=e[++c],f=FN(u,i,Zp(n),t);if(f===-1){if(Qt(r))return!1;s=!0;continue}if(d!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&d!==p){if(Qt(r))return!1;s=!0}}}}return Qt(r)||s}function Qt(n){return(n&1)===0}function FN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jN(e,n)}function LN(n,e,t=!1){for(let r=0;r<e.length;r++)if(ON(n,e[r],t))return!0;return!1}function VN(n){for(let e=0;e<n.length;e++){let t=n[e];if(RI(t))return e}return n.length}function jN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function nI(n,e){return n?":not("+e.trim()+")":e}function BN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qt(s)&&(e+=nI(o,i),i=""),r=s,o=o||!Qt(r);t++}return i!==""&&(e+=nI(o,i)),e}function UN(n){return n.map(BN).join(",")}function $N(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Qt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Jr={};function HN(n,e){return n.createText(e)}function zN(n,e,t){n.setValue(e,t)}function iD(n,e,t){return n.createElement(e,t)}function nl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function oD(n,e,t){n.appendChild(e,t)}function rI(n,e,t,r,i){r!==null?nl(n,e,t,r,i):oD(n,e,t)}function qN(n,e,t){n.removeChild(null,e,t)}function WN(n,e,t){n.setAttribute(e,"style",t)}function GN(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&sN(n,e,r),i!==null&&GN(n,e,i),o!==null&&WN(n,e,o)}function Jp(n,e,t,r,i,o,s,c,u,d,f){let p=At+r,m=p+i,v=KN(p,m),S=typeof d=="function"?d():d;return v[ee]={type:n,blueprint:v,template:t,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function KN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jr);return t}function QN(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xp(n,e,t,r,i,o,s,c,u,d,f){let p=e.blueprint.slice();return p[Wt]=i,p[W]=r|4|128|8|64|1024,(d!==null||n&&n[W]&2048)&&(p[W]|=2048),sp(p),p[Je]=p[Xi]=n,p[wt]=t,p[an]=s||n&&n[an],p[Ue]=c||n&&n[Ue],p[Hr]=u||n&&n[Hr]||null,p[Ot]=o,p[Gs]=wN(),p[Ws]=f,p[ip]=d,p[Ft]=e.type==2?n[Ft]:p,p}function YN(n,e,t){let r=Kt(e,n),i=QN(t),o=n[an].rendererFactory,s=eg(n,Xp(n,i,null,aD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function aD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function cD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function eg(n,e){return n[Ji]?n[rp][Pt]=e:n[Ji]=e,n[rp]=e,e}function Pn(n=1){uD(fr(),Se(),$u()+n,!1)}function uD(n,e,t,r){if(!r)if((e[W]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Qu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yu(e,o,0,t)}pr(t)}var pl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(pl||{});function Pp(n,e,t,r){let i=J(null);try{let[o,s,c]=n.inputs[t],u=null;(s&pl.SignalBased)!==0&&(u=e[o][mt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):DI(e,u,o,r)}finally{J(i)}}var Xr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Xr||{}),ZN;function tg(n,e){return ZN(n,e)}function ro(n,e,t,r,i){if(r!=null){let o,s=!1;Gt(r)?o=r:cn(r)&&(s=!0,r=r[Wt]);let c=Lt(r);n===0&&t!==null?i==null?oD(e,t,c):nl(e,t,c,i||null,!0):n===1&&t!==null?nl(e,t,c,i||null,!0):n===2?qN(e,c,s):n===3&&e.destroyNode(c),o!=null&&uM(e,n,o,t,i)}}function JN(n,e){lD(n,e),e[Wt]=null,e[Ot]=null}function XN(n,e,t,r,i,o){r[Wt]=i,r[Ot]=e,gl(n,r,t,1,i,o)}function lD(n,e){e[an].changeDetectionScheduler?.notify(9),gl(n,e,e[Ue],2,null,null)}function eM(n){let e=n[Ji];if(!e)return bp(n[ee],n);for(;e;){let t=null;if(cn(e))t=e[Ji];else{let r=e[It];r&&(t=r)}if(!t){for(;e&&!e[Pt]&&e!==n;)cn(e)&&bp(e[ee],e),e=e[Je];e===null&&(e=n),cn(e)&&bp(e[ee],e),t=e&&e[Pt]}e=t}}function ng(n,e){let t=n[Ys],r=t.indexOf(e);t.splice(r,1)}function dD(n,e){if(Kr(e))return;let t=e[Ue];t.destroyNode&&gl(n,e,t,3,null,null),eM(e)}function bp(n,e){if(Kr(e))return;let t=J(null);try{e[W]&=-129,e[W]|=256,e[St]&&Ns(e[St]),nM(n,e),tM(n,e),e[ee].type===1&&e[Ue].destroy();let r=e[zr];if(r!==null&&Gt(e[Je])){r!==e[Je]&&ng(r,e);let i=e[Wr];i!==null&&i.detachView(n)}Mp(e)}finally{J(t)}}function tM(n,e){let t=n.cleanup,r=e[Zi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[Zi]=null);let i=e[Rn];if(i!==null){e[Rn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Ks];if(o!==null){e[Ks]=null;for(let s of o)s.destroy()}}function nM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof oa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ee(4,c,u);try{u.call(c)}finally{Ee(5,c,u)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function rM(n,e,t){return iM(n,e.parent,t)}function iM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Wt];if(hr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Mn.None||i===Mn.Emulated)return null}return Kt(r,t)}function oM(n,e,t){return aM(n,e,t)}function sM(n,e,t){return n.type&40?Kt(n,t):null}var aM=sM,iI;function rg(n,e,t,r){let i=rM(n,r,e),o=e[Ue],s=r.parent||e[Ot],c=oM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)rI(o,i,t[u],c,!1);else rI(o,i,t,c,!1);iI!==void 0&&iI(o,r,e,t,i)}function ra(n,e){if(e!==null){let t=e.type;if(t&3)return Kt(e,n);if(t&4)return Op(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ra(n,r);{let i=n[e.index];return Gt(i)?Op(-1,i):Lt(i)}}else{if(t&128)return ra(n,e.next);if(t&32)return tg(e,n)()||Lt(n[e.index]);{let r=hD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sr(n[Ft]);return ra(i,r)}else return ra(n,e.next)}}}return null}function hD(n,e){if(e!==null){let r=n[Ft][Ot],i=e.projection;return r.projection[i]}return null}function Op(n,e){let t=It+n+1;if(t<e.length){let r=e[t],i=r[ee].firstChild;if(i!==null)return ra(r,i)}return e[dr]}function ig(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&oo(Lt(c),r),t.flags|=2),!Gp(t))if(u&8)ig(n,e,t.child,r,i,o,!1),ro(e,n,i,c,o);else if(u&32){let d=tg(t,r),f;for(;f=d();)ro(e,n,i,f,o);ro(e,n,i,c,o)}else u&16?cM(n,e,r,t,i,o):ro(e,n,i,c,o);t=s?t.projectionNext:t.next}}function gl(n,e,t,r,i,o){ig(t,r,n.firstChild,e,i,o,!1)}function cM(n,e,t,r,i,o){let s=t[Ft],u=s[Ot].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];ro(e,n,i,f,o)}else{let d=u,f=s[Je];BI(r)&&(d.flags|=128),ig(n,e,d,f,i,o,!0)}}function uM(n,e,t,r,i){let o=t[dr],s=Lt(t);o!==s&&ro(e,n,r,o,i);for(let c=It;c<t.length;c++){let u=t[c];gl(u[ee],u,n,e,r,o)}}function fD(n,e,t,r,i){let o=$u(),s=r&2;try{pr(-1),s&&e.length>At&&uD(n,e,At,!1),Ee(s?2:0,i,t),t(r,i)}finally{pr(o),Ee(s?3:1,i,t)}}function og(n,e,t){yM(n,e,t),(t.flags&64)===64&&vM(n,e,t)}function pD(n,e,t=Kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function lM(n,e,t,r){let o=r.get(GI,WI)||t===Mn.ShadowDom,s=n.selectRootElement(e,o);return dM(s),s}function dM(n){hM(n)}var hM=()=>null;function fM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function pM(n,e,t,r,i,o){let s=e[ee];if(sg(n,s,e,t,r)){hr(n)&&mM(e,n.index);return}n.type&3&&(t=fM(t)),gM(n,e,t,r,i,o)}function gM(n,e,t,r,i,o){if(n.type&3){let s=Kt(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function mM(n,e){let t=Vt(e,n);t[W]&16||(t[W]|=64)}function yM(n,e,t){let r=t.directiveStart,i=t.directiveEnd;hr(t)&&YN(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||xI(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Rp(e,n,s,t);if(oo(u,e),o!==null&&IM(e,s-r,u,c,t,o),Gr(c)){let d=Vt(t.index,e);d[wt]=Rp(e,n,s,t)}}}function vM(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Bw();try{pr(o);for(let c=r;c<i;c++){let u=n.data[c],d=e[c];ju(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&_M(u,d)}}finally{pr(-1),ju(s)}}function _M(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function gD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];LN(e,o.selectors,!1)&&(r??=[],Gr(o)?r.unshift(o):r.push(o))}return r}function EM(n,e,t,r,i,o){let s=Kt(n,e);wM(e[Ue],s,o,n.value,t,r,i)}function wM(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?$s(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function IM(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];Pp(r,t,u,d)}}function DM(n,e,t,r,i){let o=At+t,s=e[ee],c=i(s,e,n,r,t);e[o]=c,to(n,!0);let u=n.type===2;return u?(sD(e[Ue],c,n),(Aw()===0||Zs(n))&&oo(c,e),Rw()):oo(c,e),Hu()&&(!u||!Gp(n))&&rg(s,e,c,n),n}function TM(n){let e=n;return dp()?Ow():(e=e.parent,to(e,!1)),e}function bM(n,e){let t=n[Hr];if(!t)return;let r;try{r=t.get(Nt,null)}catch{r=null}r?.(e)}function sg(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],p=e.data[d];Pp(p,t[d],f,i),c=!0}if(o)for(let u of o){let d=t[u],f=e.data[u];Pp(f,d,r,i),c=!0}return c}function CM(n,e){let t=Vt(e,n),r=t[ee];SM(r,t);let i=t[Wt];i!==null&&t[Ws]===null&&(t[Ws]=KI(i,t[Hr])),Ee(18),ag(r,t,t[wt]),Ee(19,t[wt])}function SM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ag(n,e,t){Bu(e);try{let r=n.viewQuery;r!==null&&xp(1,r,t);let i=n.template;i!==null&&fD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wr]?.finishViewCreation(n),n.staticContentQueries&&QI(n,e),n.staticViewQueries&&xp(2,n.viewQuery,t);let o=n.components;o!==null&&AM(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[W]&=-5,Uu()}}function AM(n,e){for(let t=0;t<e.length;t++)CM(n,e[t])}function RM(n,e,t,r){let i=J(null);try{let o=e.tView,c=n[W]&4096?4096:16,u=Xp(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[zr]=d;let f=n[Wr];return f!==null&&(u[Wr]=f.createEmbeddedView(o)),ag(o,u,t),u}finally{J(i)}}function oI(n,e){return!e||e.firstChild===null||BI(n)}var sI=!1,NM=new B("");function sa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Lt(o)),Gt(o)&&mD(o,r);let s=t.type;if(s&8)sa(n,e,t.child,r);else if(s&32){let c=tg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=hD(e,t);if(Array.isArray(c))r.push(...c);else{let u=sr(e[Ft]);sa(u[ee],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function mD(n,e){for(let t=It;t<n.length;t++){let r=n[t],i=r[ee].firstChild;i!==null&&sa(r[ee],r,i,e)}n[dr]!==n[Wt]&&e.push(n[dr])}function yD(n){if(n[Pu]!==null){for(let e of n[Pu])e.impl.addSequence(e);n[Pu].length=0}}var vD=[];function MM(n){return n[St]??kM(n)}function kM(n){let e=vD.pop()??Object.create(PM);return e.lView=n,e}function xM(n){n.lView[St]!==n&&(n.lView=null,vD.push(n))}var PM=ye(O({},Cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ea(n.lView)},consumerOnSignalRead(){this.lView[St]=this}});function OM(n){let e=n[St]??Object.create(FM);return e.lView=n,e}var FM=ye(O({},Cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=sr(n.lView);for(;e&&!_D(e[ee]);)e=sr(e);e&&ap(e)},consumerOnSignalRead(){this.lView[St]=this}});function _D(n){return n.type!==2}function ED(n){if(n[Ks]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ks])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[W]&8192)}}var LM=100;function cg(n,e=0){let r=n[an].rendererFactory,i=!1;i||r.begin?.();try{VM(n,e)}finally{i||r.end?.()}}function VM(n,e){let t=fp();try{pp(!0),Fp(n,e);let r=0;for(;Xs(n);){if(r===LM)throw new j(103,!1);r++,Fp(n,1)}}finally{pp(t)}}function wD(n,e){hp(e?ta.Exhaustive:ta.OnlyDirtyViews);try{cg(n)}finally{hp(ta.Off)}}function jM(n,e,t,r){if(Kr(e))return;let i=e[W],o=!1,s=!1;Bu(e);let c=!0,u=null,d=null;o||(_D(n)?(d=MM(e),u=As(d)):Jc()===null?(c=!1,d=OM(e),u=As(d)):e[St]&&(Ns(e[St]),e[St]=null));try{sp(e),Lw(n.bindingStartIndex),t!==null&&fD(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let v=n.preOrderCheckHooks;v!==null&&Qu(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Yu(e,v,0,null),Dp(e,0)}if(s||BM(e),ED(e),ID(e,0),n.contentQueries!==null&&QI(n,e),!o)if(f){let v=n.contentCheckHooks;v!==null&&Qu(e,v)}else{let v=n.contentHooks;v!==null&&Yu(e,v,1),Dp(e,1)}$M(n,e);let p=n.components;p!==null&&TD(e,p,0);let m=n.viewQuery;if(m!==null&&xp(2,m,r),!o)if(f){let v=n.viewCheckHooks;v!==null&&Qu(e,v)}else{let v=n.viewHooks;v!==null&&Yu(e,v,2),Dp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[xu]){for(let v of e[xu])v();e[xu]=null}o||(yD(e),e[W]&=-73)}catch(f){throw o||ea(e),f}finally{d!==null&&(Xc(d,u),c&&xM(d)),Uu()}}function ID(n,e){for(let t=$I(n);t!==null;t=HI(t))for(let r=It;r<t.length;r++){let i=t[r];DD(i,e)}}function BM(n){for(let e=$I(n);e!==null;e=HI(e)){if(!(e[W]&2))continue;let t=e[Ys];for(let r=0;r<t.length;r++){let i=t[r];ap(i)}}}function UM(n,e,t){Ee(18);let r=Vt(e,n);DD(r,t),Ee(19,r[wt])}function DD(n,e){Fu(n)&&Fp(n,e)}function Fp(n,e){let r=n[ee],i=n[W],o=n[St],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rs(o)),s||=!1,o&&(o.dirty=!1),n[W]&=-9217,s)jM(r,n,r.template,n[wt]);else if(i&8192){let c=J(null);try{ED(n),ID(n,1);let u=r.components;u!==null&&TD(n,u,1),yD(n)}finally{J(c)}}}function TD(n,e,t){for(let r=0;r<e.length;r++)UM(n,e[r],t)}function $M(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)pr(~i);else{let o=i,s=t[++r],c=t[++r];jw(s,o);let u=e[o];Ee(24,u),c(2,u),Ee(25,u)}}}finally{pr(-1)}}function ug(n,e){let t=fp()?64:1088;for(n[an].changeDetectionScheduler?.notify(e);n;){n[W]|=t;let r=sr(n);if(eo(n)&&!r)return n;n=r}return null}function bD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function HM(n,e,t,r=!0){let i=e[ee];if(zM(i,e,n,t),r){let s=Op(t,n),c=e[Ue],u=c.parentNode(n[dr]);u!==null&&XN(i,n[Ot],c,e,u,s)}let o=e[Ws];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lp(n,e){if(n.length<=It)return;let t=It+e,r=n[t];if(r){let i=r[zr];i!==null&&i!==n&&ng(i,r),e>0&&(n[t-1][Pt]=r[Pt]);let o=Hs(n,It+e);JN(r[ee],r);let s=o[Wr];s!==null&&s.detachView(o[ee]),r[Je]=null,r[Pt]=null,r[W]&=-129}return r}function zM(n,e,t,r){let i=It+r,o=t.length;r>0&&(t[i-1][Pt]=e),r<o-It?(e[Pt]=t[i],Yf(t,It+r,e)):(t.push(e),e[Pt]=null),e[Je]=t;let s=e[zr];s!==null&&t!==s&&CD(s,e);let c=e[Wr];c!==null&&c.insertView(n),Lu(e),e[W]|=128}function CD(n,e){let t=n[Ys],r=e[Je];if(cn(r))n[W]|=2;else{let i=r[Je][Ft];e[Ft]!==i&&(n[W]|=2)}t===null?n[Ys]=[e]:t.push(e)}var gr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ee];return sa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return Kr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(Gt(e)){let t=e[Qs],r=t?t.indexOf(this):-1;r>-1&&(Lp(e,r),Hs(t,r))}this._attachedToViewContainer=!1}dD(this._lView[ee],this._lView)}onDestroy(e){cp(this._lView,e)}markForCheck(){ug(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Lu(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,cg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=eo(this._lView),t=this._lView[zr];t!==null&&!e&&ng(t,this._lView),lD(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=eo(this._lView),r=this._lView[zr];r!==null&&!t&&CD(r,this._lView),Lu(this._lView)}};var ml=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=qM;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=RM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new gr(o)}}return n})();function qM(){return WM(Rt(),Se())}function WM(n,e){return n.type&4?new ml(e,n,ll(n,e)):null}function lg(n,e,t,r,i){let o=n.data[e];if(o===null)o=GM(n,e,t,r,i),Vw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Pw();o.injectorIndex=s===null?-1:s.injectorIndex}return to(o,!0),o}function GM(n,e,t,r,i){let o=lp(),s=dp(),c=s?o:o&&o.parent,u=n.data[e]=QM(n,c,t,e,r,i);return KM(n,u,o,s),u}function KM(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function QM(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Mw()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var g3=new RegExp(`^(\\d+)*(${bN}|${TN})*(.*)`);var YM=()=>null;function aI(n,e){return YM(n,e)}var SD=class{},yl=class{},Vp=class{resolveComponentFactory(e){throw new j(917,!1)}},la=class{static NULL=new Vp},Zr=class{},vl=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>ZM()}return n})();function ZM(){let n=Se(),e=Rt(),t=Vt(e.index,n);return(cn(t)?t:n)[Ue]}var AD=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var Zu={},jp=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Zu,r);return i!==Zu||t===Zu?i:this.parentInjector.get(e,t,r)}};function cI(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Vf(i,c);else if(o==2){let u=c,d=e[++s];r=Vf(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ht(n,e=0){let t=Se();if(t===null)return $(n,e);let r=Rt();return LI(r,t,Et(n),e)}function RD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,d]=f.resolveHostDirectives(s);break}ek(n,e,t,c,o,u,d)}o!==null&&r!==null&&JM(t,r,o)}function JM(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function XM(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ek(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let v=r[m];!u&&Gr(v)&&(u=!0,XM(n,t,m)),hN(xI(t,e),n,v.type)}sk(t,n.data.length,c);for(let m=0;m<c;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let d=!1,f=!1,p=cD(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let v=r[m];if(t.mergedAttrs=Hp(t.mergedAttrs,v.hostAttrs),nk(n,t,e,p,v),ok(p,v,i),s!==null&&s.has(v)){let[R,N]=s.get(v);t.directiveToIndex.set(v.type,[p,R+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let S=v.type.prototype;!d&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}tk(n,t,o)}function tk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))uI(0,e,i,r),uI(1,e,i,r),dI(e,r,!1);else{let o=t.get(i);lI(0,e,o,r),lI(1,e,o,r),dI(e,r,!0)}}}function uI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ND(e,o)}}function lI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),ND(e,s)}}function ND(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function dI(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Zp(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let d=i[u];for(let f of d)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let d=o[u];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function nk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=jr(i.type,!0)),s=new oa(o,Gr(i),ht,null);n.blueprint[r]=s,t[r]=s,rk(n,e,r,cD(n,t,i.hostVars,Jr),i)}function rk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;ik(s)!=c&&s.push(c),s.push(t,r,o)}}function ik(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ok(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Gr(e)&&(t[""]=n)}}function sk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MD(n,e,t,r,i,o,s,c){let u=e[ee],d=u.consts,f=Js(d,s),p=lg(u,n,t,r,f);return o&&RD(u,e,p,Js(d,c),i),p.mergedAttrs=Hp(p.mergedAttrs,p.attrs),p.attrs!==null&&cI(p,p.attrs,!1),p.mergedAttrs!==null&&cI(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function kD(n,e){SI(n,e),op(e)&&n.queries.elementEnd(e)}function dg(n){return PD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function xD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function PD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ak(n,e,t){return n[e]=t}function _l(n,e,t){if(t===Jr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Cp(n,e,t){return function r(i){let o=hr(n)?Vt(n.index,e):e;ug(o,5);let s=e[wt],c=hI(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=hI(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function hI(n,e,t,r){let i=J(null);try{return Ee(6,e,t),t(r)!==!1}catch(o){return bM(n,o),!1}finally{Ee(7,e,t),J(i)}}function ck(n,e,t,r,i,o,s,c){let u=Zs(n),d=!1,f=null;if(!r&&u&&(f=uk(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=Kt(n,t),m=r?r(p):p;SN(t,m,o,c);let v=i.listen(m,o,c),S=r?R=>r(Lt(R[n.index])):n.index;OD(S,e,t,o,c,v,!1)}return d}function uk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Zi],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function OD(n,e,t,r,i,o,s){let c=e.firstCreatePass?Sw(e):null,u=Cw(t),d=u.length;u.push(i,o),c&&c.push(r,n,d,(d+1)*(s?-1:1))}function fI(n,e,t,r,i,o){let s=e[t],c=e[ee],d=c.data[t].outputs[r],p=s[d].subscribe(o);OD(n.index,c,e,i,o,p,!0)}var Bp=Symbol("BINDING");var rl=class extends la{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ur(e);return new so(t,this.ngModule)}};function lk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&pl.SignalBased)!==0};return i&&(o.transform=i),o})}function dk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function hk(n,e,t){let r=e instanceof xe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new jp(t,r):t}function fk(n){let e=n.get(Zr,null);if(e===null)throw new j(407,!1);let t=n.get(AD,null),r=n.get(ar,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function pk(n,e){let t=FD(n);return iD(e,t,t==="svg"?ww:t==="math"?Iw:null)}function FD(n){return(n.selectors[0][0]||"div").toLowerCase()}var so=class extends yl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=lk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=UN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ee(22);let c=J(null);try{let u=this.componentDef,d=gk(r,u,s,o),f=hk(u,i||this.ngModule,e),p=fk(f),m=p.rendererFactory.createRenderer(null,u),v=r?lM(m,r,u.encapsulation,f):pk(u,m),S=s?.some(pI)||o?.some(F=>typeof F!="function"&&F.bindings.some(pI)),R=Xp(null,d,null,512|aD(u),null,null,p,m,f,null,KI(v,f,!0));R[At]=v,Bu(R);let N=null;try{let F=MD(At,R,2,"#host",()=>d.directiveRegistry,!0,0);v&&(sD(m,v,F),oo(v,R)),og(d,R,F),YI(d,F,R),kD(d,F),t!==void 0&&yk(F,this.ngContentSelectors,t),N=Vt(F.index,R),R[wt]=N[wt],ag(d,R,null)}catch(F){throw N!==null&&Mp(N),Mp(R),F}finally{Ee(23),Uu()}return new il(this.componentType,R,!!S)}finally{J(c)}}};function gk(n,e,t,r){let i=n?["ng-version","20.2.4"]:$N(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[Bp].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[Bp].requiredVars;let v=f+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=ep(p);u.push(m)}return Jp(0,null,mk(o,s),1,c,u,null,null,null,[i],null)}function mk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function pI(n){let e=n[Bp].kind;return e==="input"||e==="twoWay"}var il=class extends SD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ou(t[ee],At),this.location=ll(this._tNode,t),this.instance=Vt(this._tNode.index,t)[wt],this.hostView=this.changeDetectorRef=new gr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=sg(r,i[ee],i,e,t);this.previousInputValues.set(e,t);let s=Vt(r.index,i);ug(s,1)}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ho=(()=>{class n{static __NG_ELEMENT_ID__=vk}return n})();function vk(){let n=Rt();return Ek(n,Se())}var _k=ho,LD=class extends _k{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=zp(this._hostTNode,this._hostLView);if(NI(e)){let t=el(e,this._hostLView),r=Xu(e),i=t[ee].data[r+8];return new Yr(i,t)}else return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=gI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=aI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,oI(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!JR(e),d;if(u)d=t;else{let N=t||{};d=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let f=u?e:new so(ur(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?p:this.parentInjector).get(xe,null);F&&(o=F)}let m=ur(f.componentType??{}),v=aI(this._lContainer,m?.id??null),S=v?.firstChild??null,R=f.create(p,i,S,o,s,c);return this.insertImpl(R.hostView,d,oI(this._hostTNode,v)),R}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Tw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Je],d=new LD(u,u[Ot],u[Je]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return HM(s,i,o,r),e.attachToViewContainerRef(),Yf(Sp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=gI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Lp(this._lContainer,t);r&&(Hs(Sp(this._lContainer),t),dD(r[ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=Lp(this._lContainer,t);return r&&Hs(Sp(this._lContainer),t)!=null?new gr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function gI(n){return n[Qs]}function Sp(n){return n[Qs]||(n[Qs]=[])}function Ek(n,e){let t,r=e[n.index];return Gt(r)?t=r:(t=bD(r,e,null,n),e[n.index]=t,eg(e,t)),Ik(t,e,n,r),new LD(t,n,e)}function wk(n,e){let t=n[Ue],r=t.createComment(""),i=Kt(e,n),o=t.parentNode(i);return nl(t,o,r,t.nextSibling(i),!1),r}var Ik=bk,Dk=()=>!1;function Tk(n,e,t){return Dk(n,e,t)}function bk(n,e,t,r){if(n[dr])return;let i;t.type&8?i=Lt(r):i=wk(e,t),n[dr]=i}var mI=new Set;function hg(n){mI.has(n)||(mI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ao=class{},El=class{};var ol=class extends ao{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new rl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Xf(e);this._bootstrapComponents=nD(o.bootstrap),this._r3Injector=_p(e,t,[{provide:ao,useValue:this},{provide:la,useValue:this.componentFactoryResolver},...r],or(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sl=class extends El{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ol(this.moduleType,e,[])}};var aa=class extends ao{injector;componentFactoryResolver=new rl(this);instance=null;constructor(e){super();let t=new Br([...e.providers,{provide:ao,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],e.parent||qs(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function da(n,e,t=null){return new aa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ck=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tp(!1,t.type),i=r.length>0?da([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n($(xe))})}return n})();function Dt(n){return co(()=>{let e=VD(n),t=ye(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ck).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||qt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&hg("NgStandalone"),jD(t);let r=n.dependencies;return t.directiveDefs=yI(r,Sk),t.pipeDefs=yI(r,pw),t.id=Nk(t),t})}function Sk(n){return ur(n)||ep(n)}function We(n){return co(()=>({type:n.type,bootstrap:n.bootstrap||qt,declarations:n.declarations||qt,imports:n.imports||qt,exports:n.exports||qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ak(n,e){if(n==null)return $r;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=pl.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function Rk(n){if(n==null)return $r;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function jt(n){return co(()=>{let e=VD(n);return jD(e),e})}function VD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||$r,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Ak(n.inputs,e),outputs:Rk(n.outputs),debugInfo:null}}function jD(n){n.features?.forEach(e=>e(n))}function yI(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Nk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Mk(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Hp(n.mergedAttrs,n.attrs);let f=n.tView=Jp(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),to(n,!1);let u=xk(t,e,n,r);Hu()&&rg(t,e,u,n),oo(u,e);let d=bD(u,e,u,n);e[r+At]=d,eg(e,d),Tk(d,n,e)}function kk(n,e,t,r,i,o,s,c,u,d,f){let p=t+At,m;return e.firstCreatePass?(m=lg(e,p,4,s||null,c||null),up()&&RD(e,n,m,Js(e.consts,d),gD),SI(e,m)):m=e.data[p],Mk(m,n,e,t,r,i,o,u),Zs(m)&&og(e,n,m),d!=null&&pD(n,m,f),m}function fo(n,e,t,r,i,o,s,c){let u=Se(),d=fr(),f=Js(d.consts,o);return kk(u,d,n,e,t,r,i,f,void 0,s,c),fo}var xk=Pk;function Pk(n,e,t,r){return zu(!0),e[Ue].createComment("")}var fg=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(fg||{}),ha=new B(""),BD=!1,Up=class extends ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_w()&&(this.destroyRef=A(Qr,{optional:!0})??void 0,this.pendingTasks=A(un,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ce&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},dt=Up;function UD(n){let e,t;function r(){n=na;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function vI(n){return queueMicrotask(()=>n()),()=>{n=na}}var pg="isAngularZone",al=pg+"_ID",Ok=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new dt(!1);onMicrotaskEmpty=new dt(!1);onStable=new dt(!1);onError=new dt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Vk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Fk,na,na);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Fk={};function gg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Lk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){UD(()=>{n.callbackScheduled=!1,$p(n),n.isCheckStableRunning=!0,gg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),$p(n)}function Vk(n){let e=()=>{Lk(n)},t=Ok++;n._inner=n._inner.fork({name:"angular",properties:{[pg]:!0,[al]:t,[al+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(jk(u))return r.invokeTask(o,s,c,u);try{return _I(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),EI(n)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return _I(n),r.invoke(o,s,c,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Bk(u)&&e(),EI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,$p(n),gg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function $p(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function _I(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EI(n){n._nesting--,gg(n)}var cl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new dt;onMicrotaskEmpty=new dt;onStable=new dt;onError=new dt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function jk(n){return $D(n,"__ignore_ng_zone__")}function Bk(n){return $D(n,"__scheduler_tick__")}function $D(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var HD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})();var mg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var yg=new B("");function fa(n){return!!n&&typeof n.then=="function"}function zD(n){return!!n&&typeof n.subscribe=="function"}var qD=new B("");var vg=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=A(qD,{optional:!0})??[];injector=A(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(fa(o))t.push(o);else if(zD(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wl=new B("");function WD(){cf(()=>{let n="";throw new j(600,n)})}function GD(n){return n.isBoundToModule}var Uk=10;var ei=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(Nt);afterRenderManager=A(HD);zonelessEnabled=A(Wu);rootEffectScheduler=A(Ip);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=A(un);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){A(ha,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=A(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xe.NULL){return this._injector.get(pe).run(()=>{Ee(10);let s=t instanceof yl;if(!this._injector.get(vg).done){let S="";throw new j(405,S)}let u;s?u=t:u=this._injector.get(la).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let d=GD(u)?void 0:this._injector.get(ao),f=r||u.selector,p=u.create(i,[],f,d),m=p.location.nativeElement,v=p.injector.get(yg,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),ia(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),Ee(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(fg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Uk;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Xs(i))continue;let o=r&&!this.zonelessEnabled?0:1;cg(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Xs(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ia(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(wl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ia(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ia(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pa(n,e,t,r){let i=Se(),o=Vu();if(_l(i,o,e)){let s=fr(),c=vp();EM(c,i,n,e,t,r)}return pa}var _g=new B("",{providedIn:"root",factory:()=>!1}),Eg=new B("",{providedIn:"root",factory:()=>$k}),$k=4e3;var I3=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ga(n,e,t){let r=Se(),i=Vu();if(_l(r,i,e)){let o=fr(),s=vp();pM(s,r,n,e,r[Ue],t)}return ga}function wI(n,e,t,r,i){sg(e,n,t,i?"class":"style",r)}function ge(n,e,t,r){let i=Se(),o=i[ee],s=n+At,c=o.firstCreatePass?MD(s,i,2,e,gD,up(),t,r):o.data[s];if(DM(c,i,n,e,Hk),Zs(c)){let u=i[ee];og(u,i,c),YI(u,c,i)}return r!=null&&pD(i,c),ge}function me(){let n=fr(),e=Rt(),t=TM(e);return n.firstCreatePass&&kD(n,t),kw(t)&&xw(),Nw(),t.classesWithoutHost!=null&&iN(t)&&wI(n,t,Se(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&oN(t)&&wI(n,t,Se(),t.stylesWithoutHost,!1),me}function po(n,e,t,r){return ge(n,e,t,r),me(),po}var Hk=(n,e,t,r,i)=>(zu(!0),iD(e[Ue],r,zw()));var ma="en-US";var zk=ma;function KD(n){typeof n=="string"&&(zk=n.toLowerCase().replace(/_/g,"-"))}function Il(n,e,t){let r=Se(),i=fr(),o=Rt();return qk(i,r,r[Ue],o,n,e,t),Il}function qk(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Cp(r,e,o),ck(r,n,e,s,t,i,o,u)&&(c=!1)),c){let d=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],v=f[p+1];u??=Cp(r,e,o),fI(r,e,m,v,i,u)}if(d&&d.length)for(let p of d)u??=Cp(r,e,o),fI(r,e,p,i,i,u)}}function we(n,e=""){let t=Se(),r=fr(),i=n+At,o=r.firstCreatePass?lg(r,i,1,e,null):r.data[i],s=Wk(r,t,o,e,n);t[i]=s,Hu()&&rg(r,t,s,o),to(o,!1)}var Wk=(n,e,t,r,i)=>(zu(!0),HN(e[Ue],r));function Gk(n,e,t,r=""){return _l(n,Vu(),t)?e+$s(t)+r:Jr}function ya(n){return va("",n),ya}function va(n,e,t){let r=Se(),i=Gk(r,n,e,t);return i!==Jr&&Kk(r,$u(),i),va}function Kk(n,e,t){let r=Dw(e,n);zN(n[Ue],r,t)}function wg(n,e,t,r){return Yk(Se(),Fw(),n,e,t,r)}function Qk(n,e){let t=n[e];return t===Jr?void 0:t}function Yk(n,e,t,r,i,o){let s=e+t;return _l(n,s,i)?ak(n,s+1,o?r.call(o,i):r(i)):Qk(n,s+1)}var ul=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ig=(()=>{class n{compileModuleSync(t){return new sl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Xf(t),o=nD(i.declarations).reduce((s,c)=>{let u=ur(c);return u&&s.push(new so(u)),s},[]);return new ul(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zk=(()=>{class n{zone=A(pe);changeDetectionScheduler=A(ar);applicationRef=A(ei);applicationErrorHandler=A(Nt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(ye(O({},YD()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:cr,multi:!0,useFactory:()=>{let r=A(Zk,{optional:!0});return()=>r.initialize()}},{provide:cr,multi:!0,useFactory:()=>{let r=A(Jk);return()=>{r.initialize()}}},e===!0?{provide:Ep,useValue:!0}:[],{provide:wp,useValue:t??BD},{provide:Nt,useFactory:()=>{let r=A(pe),i=A(xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(sn),o.handleError(s))})}}}]}function YD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Jk=(()=>{class n{subscription=new Ce;initialized=!1;zone=A(pe);pendingTasks=A(un);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ZD=(()=>{class n{applicationErrorHandler=A(Nt);appRef=A(ei);taskService=A(un);ngZone=A(pe);zonelessEnabled=A(Wu);tracing=A(ha,{optional:!0});disableScheduling=A(Ep,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(al):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(wp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?vI:UD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,vI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xk(){return typeof $localize<"u"&&$localize.locale||ma}var Dg=new B("",{providedIn:"root",factory:()=>A(Dg,{optional:!0,skipSelf:!0})||Xk()});function On(n){return ow(n)}var JD=class{[mt];constructor(e){this[mt]=e}destroy(){this[mt].destroy()}};var dT=Symbol("InputSignalNode#UNSET"),fx=ye(O({},eu),{transformFn:void 0,applyValueToInputSignal(n,e){xi(n,e)}});function hT(n,e){let t=Object.create(fx);t.value=n,t.transformFn=e?.transform;function r(){if(Ss(t),t.value===dT){let i=null;throw new j(-950,i)}return t.value}return r[mt]=t,r}var Tl=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ua(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},px=new B("");px.__NG_ELEMENT_ID__=n=>{let e=Rt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function XD(n,e){return hT(n,e)}function gx(n){return hT(dT,n)}var fT=(XD.required=gx,XD);var Ea=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},pT=new Ea("20.2.4");var Tg=new B(""),mx=new B("");function _a(n){return!n.moduleRef}function yx(n){let e=_a(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{_a(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Nt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),_a(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Tg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Tg);s.add(o),n.moduleRef.onDestroy(()=>{ia(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return _x(r,t,()=>{let o=e.get(un),s=o.add(),c=e.get(vg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Dg,ma);if(KD(u||ma),!e.get(mx,!0))return _a(n)?e.get(ei):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_a(n)){let f=e.get(ei);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return vx?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var vx;function _x(n,e,t){try{let r=t();return fa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Dl=null;function Ex(n=[],e){return Xe.create({name:e,providers:[{provide:zs,useValue:"platform"},{provide:Tg,useValue:new Set([()=>Dl=null])},...n]})}function wx(n=[]){if(Dl)return Dl;let e=Ex(n);return Dl=e,WD(),Ix(e),e}function Ix(n){let e=n.get(hl,null);Be(n,()=>{e?.forEach(t=>t())})}function Fg(){return!1}var Al=(()=>{class n{static __NG_ELEMENT_ID__=Dx}return n})();function Dx(n){return Tx(Rt(),Se(),(n&16)===16)}function Tx(n,e,t){if(hr(n)&&!t){let r=Vt(n.index,e);return new gr(r,r)}else if(n.type&175){let r=e[Ft];return new gr(r,e)}return null}var bg=class{constructor(){}supports(e){return dg(e)}create(e){return new Cg(e)}},bx=(n,e)=>e,Cg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||bx}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<eT(r,i,o)?t:r,c=eT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=c-i,f=u-i;if(d!=f){for(let m=0;m<d;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;f<=S&&S<d&&(o[m]=v+1)}let p=s.previousIndex;o[p]=f-d}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dg(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,xD(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Sg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new bl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Ag=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},bl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ag,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function tT(){return new Lg([new bg])}var Lg=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:tT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=A(n,{optional:!0,skipSelf:!0});return n.create(t,r||tT())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function gT(n){Ee(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=wx(r),o=[QD({}),{provide:ar,useExisting:ZD},Ww,...t||[]],s=new aa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return yx({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ee(9)}}function wa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var vT=null;function Fn(){return vT}function Vg(n){vT??=n}var Ia=class{},Da=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>A(_T),providedIn:"platform"})}return n})();var _T=(()=>{class n extends Da{_location;_history;_doc=A($e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Rl(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function mT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Yt(n){return n&&n[0]!=="?"?`?${n}`:n}var hn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>A(jg),providedIn:"root"})}return n})(),Nl=new B(""),jg=(()=>{class n extends hn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Yt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Yt(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Yt(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Da),$(Nl,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ti=(()=>{class n{_subject=new ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Ax(mT(yT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yt(r))}normalize(t){return n.stripTrailingSlash(Sx(this._basePath,yT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yt;static joinWithSlash=Rl;static stripTrailingSlash=mT;static \u0275fac=function(r){return new(r||n)($(hn))};static \u0275prov=L({token:n,factory:()=>Cx(),providedIn:"root"})}return n})();function Cx(){return new ti($(hn))}function Sx(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function yT(n){return n.replace(/\/index.html$/,"")}function Ax(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Bg=(()=>{class n extends hn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Rl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Yt(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Yt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Da),$(Nl,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Ml=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},kl=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ml(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),ET(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ET(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ht(ho),ht(ml),ht(Lg))};static \u0275dir=jt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ET(n,e){n.context.$implicit=e.item}var xl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({})}return n})();function Ug(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ta=class{};var $g="browser";function wT(n){return n===$g}var Ol=new B(""),Gg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(Ol),$(pe))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),ba=class{_doc;constructor(e){this._doc=e}manager},Hg="ng-app-id";function DT(n){for(let e of n)e.remove()}function TT(n,e){let t=e.createElement("style");return t.textContent=n,t}function Nx(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Hg}="${e}"],link[${Hg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Hg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function qg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Kg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Nx(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,TT);r?.forEach(i=>this.addUsage(i,this.external,qg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(DT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])DT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,TT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,qg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($($e),$(dl),$(lo,8),$(dn))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qg=/%COMP%/g;var CT="%COMP%",Mx=`_nghost-${CT}`,kx=`_ngcontent-${CT}`,xx=!0,Px=new B("",{providedIn:"root",factory:()=>xx});function Ox(n){return kx.replace(Qg,n)}function Fx(n){return Mx.replace(Qg,n)}function ST(n,e){return e.map(t=>t.replace(Qg,n))}var Yg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,c,u,d=null,f,p,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.animationDisabled=f,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new Ca(t,s,u,this.platformIsServer,this.tracingService,this.registry=qu(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Pl?i.applyToHost(t):i instanceof Sa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Mn.Emulated:o=new Pl(u,d,r,this.appId,f,s,c,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Mn.ShadowDom:return new Wg(u,d,t,r,s,c,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:o=new Sa(u,d,r,f,s,c,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(Gg),$(Kg),$(dl),$(Px),$($e),$(dn),$(pe),$(lo),$(_g),$(Eg),$(ha,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Ca=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,c){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=c}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(zg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=zg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=zg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(t,r,i&Xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function bT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Wg=class extends Ca{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,d,f,p){super(e,o,s,u,d,f,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=ST(i.id,m);for(let S of m){let R=document.createElement("style");c&&R.setAttribute("nonce",c),R.textContent=S,this.shadowRoot.appendChild(R)}let v=i.getExternalStyles?.();if(v)for(let S of v){let R=qg(S,o);c&&R.setAttribute("nonce",c),this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Ca{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,c,u,d,f,p,m){super(e,o,s,c,u,d,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=f;let v=r.styles;this.styles=m?ST(m,v):v,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Pl=class extends Sa{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,d,f,p,m){let v=i+"-"+r.id;super(e,t,r,o,s,c,u,d,f,p,m,v),this.contentAttr=Ox(v),this.hostAttr=Fx(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Fl=class n extends Ia{supportsDOMEvents=!0;static makeCurrent(){Vg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Lx();return t==null?null:Vx(t)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ug(document.cookie,e)}},Aa=null;function Lx(){return Aa=Aa||document.head.querySelector("base"),Aa?Aa.getAttribute("href"):null}function Vx(n){return new URL(n,document.baseURI).pathname}var jx=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),RT=(()=>{class n extends ba{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($($e))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),AT=["alt","control","meta","shift"],Bx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ux={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},NT=(()=>{class n extends ba{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),AT.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Bx[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AT.forEach(s=>{if(s!==i){let c=Ux[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($($e))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function Zg(n,e){let t=O({rootComponent:n},$x(e));return gT(t)}function $x(n){return{appProviders:[...Gx,...n?.providers??[]],platformProviders:Wx}}function Hx(){Fl.makeCurrent()}function zx(){return new sn}function qx(){return Wp(document),document}var Wx=[{provide:dn,useValue:$g},{provide:hl,useValue:Hx,multi:!0},{provide:$e,useFactory:qx}];var Gx=[{provide:zs,useValue:"root"},{provide:sn,useFactory:zx},{provide:Ol,useClass:RT,multi:!0,deps:[$e]},{provide:Ol,useClass:NT,multi:!0,deps:[$e]},Yg,Kg,Gg,{provide:Zr,useExisting:Yg},{provide:Ta,useClass:jx},[]];var MT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($($e))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K="primary",Ha=Symbol("RouteTitle"),nm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ii(n){return new nm(n)}function jT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fn(n[t],e[t]))return!1;return!0}function fn(n,e){let t=n?rm(n):void 0,r=e?rm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!BT(n[i],e[i]))return!1;return!0}function rm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function BT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function UT(n){return n.length>0?n[n.length-1]:null}function Vn(n){return If(n)?n:fa(n)?Ae(Promise.resolve(n)):H(n)}var Yx={exact:HT,subset:zT},$T={exact:Zx,subset:Jx,ignored:()=>!0};function kT(n,e,t){return Yx[t.paths](n.root,e.root,t.matrixParams)&&$T[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Zx(n,e){return fn(n,e)}function HT(n,e,t){if(!ni(n.segments,e.segments)||!jl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!HT(n.children[r],e.children[r],t))return!1;return!0}function Jx(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>BT(n[t],e[t]))}function zT(n,e,t){return qT(n,e,e.segments,t)}function qT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ni(i,t)||e.hasChildren()||!jl(i,t,r))}else if(n.segments.length===t.length){if(!ni(n.segments,t)||!jl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!zT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ni(n.segments,i)||!jl(n.segments,i,r)||!n.children[K]?!1:qT(n.children[K],e,o,r)}}function jl(n,e,t){return e.every((r,i)=>$T[t](n[i].parameters,r.parameters))}var gn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){return tP.serialize(this)}},le=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},mr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ii(this.parameters),this._parameterMap}toString(){return GT(this)}};function Xx(n,e){return ni(n,e)&&n.every((t,r)=>fn(t.parameters,e[r].parameters))}function ni(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function eP(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===K&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==K&&(t=t.concat(e(i,r)))}),t}var za=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new oi,providedIn:"root"})}return n})(),oi=class{parse(e){let t=new om(e);return new gn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ra(e.root,!0)}`,r=iP(e.queryParams),i=typeof e.fragment=="string"?`#${nP(e.fragment)}`:"";return`${t}${r}${i}`}},tP=new oi;function Bl(n){return n.segments.map(e=>GT(e)).join("/")}function Ra(n,e){if(!n.hasChildren())return Bl(n);if(e){let t=n.children[K]?Ra(n.children[K],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==K&&r.push(`${i}:${Ra(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=eP(n,(r,i)=>i===K?[Ra(n.children[K],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[K]!=null?`${Bl(n)}/${t[0]}`:`${Bl(n)}/(${t.join("//")})`}}function WT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(n){return WT(n).replace(/%3B/gi,";")}function nP(n){return encodeURI(n)}function im(n){return WT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ul(n){return decodeURIComponent(n)}function xT(n){return Ul(n.replace(/\+/g,"%20"))}function GT(n){return`${im(n.path)}${rP(n.parameters)}`}function rP(n){return Object.entries(n).map(([e,t])=>`;${im(e)}=${im(t)}`).join("")}function iP(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ll(t)}=${Ll(i)}`).join("&"):`${Ll(t)}=${Ll(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var oP=/^[^\/()?;#]+/;function Jg(n){let e=n.match(oP);return e?e[0]:""}var sP=/^[^\/()?;=#]+/;function aP(n){let e=n.match(sP);return e?e[0]:""}var cP=/^[^=?&#]+/;function uP(n){let e=n.match(cP);return e?e[0]:""}var lP=/^[^&#]+/;function dP(n){let e=n.match(lP);return e?e[0]:""}var om=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[K]=new le(e,t)),r}parseSegment(){let e=Jg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new mr(Ul(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Jg(this.remaining);i&&(r=i,this.capture(r))}e[Ul(t)]=Ul(r)}parseQueryParam(e){let t=uP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=dP(this.remaining);s&&(r=s,this.capture(r))}let i=xT(t),o=xT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=K);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[K]:new le([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function KT(n){return n.segments.length>0?new le([],{[K]:n}):n}function QT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=QT(i);if(r===K&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new le(n.segments,e);return hP(t)}function hP(n){if(n.numberOfChildren===1&&n.children[K]){let e=n.children[K];return new le(n.segments.concat(e.segments),e.children)}return n}function yr(n){return n instanceof gn}function YT(n,e,t=null,r=null){let i=ZT(n);return JT(i,e,t,r)}function ZT(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let c=new le(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=KT(r);return e??i}function JT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Xg(i,i,i,t,r);let o=fP(e);if(o.toRoot())return Xg(i,i,new le([],{}),t,r);let s=pP(o,i,n),c=s.processChildren?Ma(s.segmentGroup,s.index,o.commands):eb(s.segmentGroup,s.index,o.commands);return Xg(i,s.segmentGroup,c,t,r)}function $l(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pa(n){return typeof n=="object"&&n!=null&&n.outlets}function Xg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;n===e?s=t:s=XT(n,e,t);let c=KT(QT(s));return new gn(c,o,i)}function XT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=XT(o,e,t)}),new le(n.segments,r)}var Hl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$l(r[0]))throw new j(4003,!1);let i=r.find(Pa);if(i&&i!==UT(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Hl(t,e,r)}var yo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function pP(n,e,t){if(n.isAbsolute)return new yo(e,!0,0);if(!t)return new yo(e,!1,NaN);if(t.parent===null)return new yo(t,!0,0);let r=$l(n.commands[0])?0:1,i=t.segments.length-1+r;return gP(t,i,n.numberOfDoubleDots)}function gP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new yo(r,!1,i-o)}function mP(n){return Pa(n[0])?n[0].outlets:{[K]:n}}function eb(n,e,t){if(n??=new le([],{}),n.segments.length===0&&n.hasChildren())return Ma(n,e,t);let r=yP(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new le(n.segments.slice(0,r.pathIndex),{});return o.children[K]=new le(n.segments.slice(r.pathIndex),n.children),Ma(o,0,i)}else return r.match&&i.length===0?new le(n.segments,{}):r.match&&!n.hasChildren()?sm(n,e,t):r.match?Ma(n,0,i):sm(n,e,t)}function Ma(n,e,t){if(t.length===0)return new le(n.segments,{});{let r=mP(t),i={};if(Object.keys(r).some(o=>o!==K)&&n.children[K]&&n.numberOfChildren===1&&n.children[K].segments.length===0){let o=Ma(n.children[K],e,t);return new le(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new le(n.segments,i)}}function yP(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(Pa(c))break;let u=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!OT(u,d,s))return o;r+=2}else{if(!OT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Pa(o)){let u=vP(o.outlets);return new le(r,u)}if(i===0&&$l(t[0])){let u=n.segments[e];r.push(new mr(u.path,PT(t[0]))),i++;continue}let s=Pa(o)?o.outlets[K]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&$l(c)?(r.push(new mr(s,PT(c))),i+=2):(r.push(new mr(s,{})),i++)}return new le(r,{})}function vP(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=sm(new le([],{}),0,r))}),e}function PT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function OT(n,e,t){return n==t.path&&fn(e,t.parameters)}var ka="imperative",Ge=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ge||{}),kt=class{id;url;constructor(e,t){this.id=e,this.url=t}},si=class extends kt{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mn=class extends kt{urlAfterRedirects;type=Ge.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(ft||{}),Oa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Oa||{}),pn=class extends kt{reason;code;type=Ge.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends kt{reason;code;type=Ge.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},_o=class extends kt{error;target;type=Ge.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fa=class extends kt{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class extends kt{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ql=class extends kt{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wl=class extends kt{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gl=class extends kt{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kl=class{route;type=Ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ql=class{route;type=Ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yl=class{snapshot;type=Ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zl=class{snapshot;type=Ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jl=class{snapshot;type=Ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xl=class{snapshot;type=Ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var La=class{},Eo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _P(n){return!(n instanceof La)&&!(n instanceof Eo)}function EP(n,e){return n.providers&&!n._injector&&(n._injector=da(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zt(n){return n.outlet||K}function wP(n,e){let t=n.filter(r=>Zt(r)===e);return t.push(...n.filter(r=>Zt(r)!==e)),t}function Do(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ed=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Do(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new To(this.rootInjector)}},To=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ed(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(xe))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),td=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=am(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=am(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=cm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cm(e,this._root).map(t=>t.value)}};function am(n,e){if(n===e.value)return e;for(let t of e.children){let r=am(n,t);if(r)return r}return null}function cm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=cm(n,t);if(r.length)return r.unshift(e),r}return[]}var Mt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function mo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Va=class extends td{snapshot;constructor(e,t){super(e),this.snapshot=t,mm(this,e)}toString(){return this.snapshot.toString()}};function tb(n){let e=IP(n),t=new Ze([new mr("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),c=new Jt(t,r,o,s,i,K,n,e.root);return c.snapshot=e.root,new Va(new Mt(c,[]),e)}function IP(n){let e={},t={},r={},o=new ri([],e,r,"",t,K,n,null,{});return new ja("",new Mt(o,[]))}var Jt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(d=>d[Ha]))??H(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>ii(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>ii(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&rb(i)&&(r.resolve[Ha]=i.title),r}var ri=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ha]}constructor(e,t,r,i,o,s,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ii(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ja=class extends td{url;constructor(e,t){super(t),this.url=e,mm(this,t)}toString(){return nb(this._root)}};function mm(n,e){e.value._routerState=n,e.children.forEach(t=>mm(n,t))}function nb(n){let e=n.children.length>0?` { ${n.children.map(nb).join(", ")} } `:"";return`${n.value}${e}`}function em(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fn(e.params,t.params)||n.paramsSubject.next(t.params),Qx(e.url,t.url)||n.urlSubject.next(t.url),fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function um(n,e){let t=fn(n.params,e.params)&&Xx(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||um(n.parent,e.parent))}function rb(n){return typeof n.title=="string"||n.title===null}var ib=new B(""),qa=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new dt;deactivateEvents=new dt;attachEvents=new dt;detachEvents=new dt;routerOutletData=fT(void 0);parentContexts=A(To);location=A(ho);changeDetector=A(Al);inputBinder=A(sd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new lm(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=jt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[xn]})}return n})(),lm=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Jt?this.route:e===To?this.childContexts:e===ib?this.outletData:this.parent.get(e,t)}},sd=new B("");var ym=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Dt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&po(0,"router-outlet")},dependencies:[qa],encapsulation:2})}return n})();function vm(n){let e=n.children&&n.children.map(vm),t=e?ye(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==K&&(t.component=ym),t}function DP(n,e,t){let r=Ba(n,e._root,t?t._root:void 0);return new Va(r,e)}function Ba(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=TP(n,e,t);return new Mt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ba(n,c)),s}}let r=bP(e.value),i=e.children.map(o=>Ba(n,o));return new Mt(r,i)}}function TP(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ba(n,r,i);return Ba(n,r)})}function bP(n){return new Jt(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var wo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ob="ngNavigationCancelingError";function rd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sb(!1,ft.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ob]=!0,t.cancellationCode=e,t}function CP(n){return ab(n)&&yr(n.url)}function ab(n){return!!n&&n[ob]}var SP=(n,e,t,r)=>X(i=>(new dm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),dm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),em(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=mo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=mo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(em(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),em(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},id=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function AP(n,e,t){let r=n._root,i=e?e._root:null;return Na(r,i,t,[r.value])}function RP(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function bo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Uf(n)?n:e.get(n):r}function Na(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=mo(e);return n.children.forEach(s=>{NP(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>xa(c,t.getContext(s),i)),i}function NP(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=MP(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new id(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Na(n,e,c?c.children:null,r,i):Na(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new vo(c.outlet.component,s))}else s&&xa(e,c,i),i.canActivateChecks.push(new id(r)),o.component?Na(n,null,c?c.children:null,r,i):Na(n,null,t,r,i);return i}function MP(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ni(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ni(n.url,e.url)||!fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(n,e)||!fn(n.queryParams,e.queryParams);case"paramsChange":default:return!um(n,e)}}function xa(n,e,t){let r=mo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?xa(s,e.children.getContext(o),t):xa(s,null,t):xa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new vo(e.outlet.component,i)):t.canDeactivateChecks.push(new vo(null,i)):t.canDeactivateChecks.push(new vo(null,i))}function Wa(n){return typeof n=="function"}function kP(n){return typeof n=="boolean"}function xP(n){return n&&Wa(n.canLoad)}function PP(n){return n&&Wa(n.canActivate)}function OP(n){return n&&Wa(n.canActivateChild)}function FP(n){return n&&Wa(n.canDeactivate)}function LP(n){return n&&Wa(n.canMatch)}function cb(n){return n instanceof Sn||n?.name==="EmptyError"}var Vl=Symbol("INITIAL_VALUE");function Io(){return _t(n=>qi(n.map(e=>e.pipe(zt(1),Ki(Vl)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===Vl)return Vl;if(t===!1||VP(t))return t}return!0}),lt(e=>e!==Vl),zt(1)))}function VP(n){return yr(n)||n instanceof wo}function jP(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(ye(O({},t),{guardsResult:!0})):BP(s,r,i,n).pipe(Ve(c=>c&&kP(c)?UP(r,o,n,e):H(c)),X(c=>ye(O({},t),{guardsResult:c})))})}function BP(n,e,t,r){return Ae(n).pipe(Ve(i=>WP(i.component,i.route,t,e,r)),An(i=>i!==!0,!0))}function UP(n,e,t,r){return Ae(e).pipe(Wi(i=>nr(HP(i.route.parent,r),$P(i.route,r),qP(n,i.path,t),zP(n,i.route,t))),An(i=>i!==!0,!0))}function $P(n,e){return n!==null&&e&&e(new Jl(n)),H(!0)}function HP(n,e){return n!==null&&e&&e(new Yl(n)),H(!0)}function zP(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>Ps(()=>{let s=Do(e)??t,c=bo(o,s),u=PP(c)?c.canActivate(e,n):Be(s,()=>c(e,n));return Vn(u).pipe(An())}));return H(i).pipe(Io())}function qP(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>RP(s)).filter(s=>s!==null).map(s=>Ps(()=>{let c=s.guards.map(u=>{let d=Do(s.node)??t,f=bo(u,d),p=OP(f)?f.canActivateChild(r,n):Be(d,()=>f(r,n));return Vn(p).pipe(An())});return H(c).pipe(Io())}));return H(o).pipe(Io())}function WP(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(c=>{let u=Do(e)??i,d=bo(c,u),f=FP(d)?d.canDeactivate(n,e,t,r):Be(u,()=>d(n,e,t,r));return Vn(f).pipe(An())});return H(s).pipe(Io())}function GP(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let c=bo(s,n),u=xP(c)?c.canLoad(e,t):Be(n,()=>c(e,t));return Vn(u)});return H(o).pipe(Io(),ub(r))}function ub(n){return ou(qe(e=>{if(typeof e!="boolean")throw rd(n,e)}),X(e=>e===!0))}function KP(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let c=bo(s,n),u=LP(c)?c.canMatch(e,t):Be(n,()=>c(e,t));return Vn(u)});return H(o).pipe(Io(),ub(r))}var Ua=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},$a=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function go(n){return zi(new Ua(n))}function QP(n){return zi(new j(4e3,!1))}function YP(n){return zi(sb(!1,ft.GuardRejected))}var hm=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[K])return QP(`${e.redirectTo}`);i=i.children[K]}}applyRedirectCommands(e,t,r,i,o){return ZP(t,i,o).pipe(X(s=>{if(s instanceof gn)throw new $a(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new $a(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new gn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new le(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function ZP(n,e,t){if(typeof n=="string")return H(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:d,data:f,title:p}=e;return Vn(Be(t,()=>r({params:d,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JP(n,e,t,r,i){let o=lb(n,e,t);return o.matched?(r=EP(e,r),KP(r,e,t,i).pipe(X(s=>s===!0?o:O({},fm)))):H(o)}function lb(n,e,t){if(e.path==="**")return XP(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},fm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jT)(t,n,e);if(!i)return O({},fm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XP(n){return{matched:!0,parameters:n.length>0?UT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function FT(n,e,t,r){return t.length>0&&nO(n,t,r)?{segmentGroup:new le(e,tO(r,new le(t,n.children))),slicedSegments:[]}:t.length===0&&rO(n,t,r)?{segmentGroup:new le(n.segments,eO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new le(n.segments,n.children),slicedSegments:t}}function eO(n,e,t,r){let i={};for(let o of t)if(ad(n,e,o)&&!r[Zt(o)]){let s=new le([],{});i[Zt(o)]=s}return O(O({},r),i)}function tO(n,e){let t={};t[K]=e;for(let r of n)if(r.path===""&&Zt(r)!==K){let i=new le([],{});t[Zt(r)]=i}return t}function nO(n,e,t){return t.some(r=>ad(n,e,r)&&Zt(r)!==K)}function rO(n,e,t){return t.some(r=>ad(n,e,r))}function ad(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function iO(n,e,t){return e.length===0&&!n.children[t]}var pm=class{};function oO(n,e,t,r,i,o,s="emptyOnly"){return new gm(n,e,t,r,i,s,o).recognize()}var sO=31,gm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new hm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=FT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new Mt(r,t),o=new ja("",i),s=YT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ri([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,t).pipe(X(r=>({children:r,rootSnapshot:t})),rr(r=>{if(r instanceof $a)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ua?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof Mt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(Wi(s=>{let c=r.children[s],u=wP(t,s);return this.processSegmentGroup(e,u,c,s,i)}),wu((s,c)=>(s.push(...c),s)),ir(null),Tf(),Ve(s=>{if(s===null)return go(r);let c=db(s);return aO(c),H(c)}))}processSegment(e,t,r,i,o,s,c){return Ae(t).pipe(Wi(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(rr(d=>{if(d instanceof Ua)return H(null);throw d}))),An(u=>!!u),rr(u=>{if(cb(u))return iO(r,i,o)?H(new pm):go(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return Zt(r)!==s&&(s===K||!ad(i,o,r))?go(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):go(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=lb(t,i,o);if(!u)return go(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sO&&(this.allowRedirects=!1));let v=new ri(o,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,LT(i),Zt(i),i.component??i._loadedComponent??null,i,VT(i)),S=nd(v,c,this.paramsInheritanceStrategy);return v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e).pipe(_t(N=>this.applyRedirects.lineralizeSegments(i,N)),Ve(N=>this.processSegment(e,r,t,N.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=JP(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(_t(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_t(({routes:d})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new ri(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,LT(r),Zt(r),r.component??r._loadedComponent??null,r,VT(r)),R=nd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:N,slicedSegments:F}=FT(t,m,v,d);if(F.length===0&&N.hasChildren())return this.processChildren(f,d,N,S).pipe(X(Y=>new Mt(S,Y)));if(d.length===0&&F.length===0)return H(new Mt(S,[]));let Z=Zt(r)===o;return this.processSegment(f,d,N,F,Z?K:o,!0,S).pipe(X(Y=>new Mt(S,Y instanceof Mt?[Y]:[])))}))):go(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):GP(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):YP(t))):H({routes:[],injector:e})}};function aO(n){n.sort((e,t)=>e.value.outlet===K?-1:t.value.outlet===K?1:e.value.outlet.localeCompare(t.value.outlet))}function cO(n){let e=n.value.routeConfig;return e&&e.path===""}function db(n){let e=[],t=new Set;for(let r of n){if(!cO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=db(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!t.has(r))}function LT(n){return n.data||{}}function VT(n){return n.resolve||{}}function uO(n,e,t,r,i,o){return Ve(s=>oO(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:c,tree:u})=>ye(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function lO(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of hb(u))s.add(d);let c=0;return Ae(s).pipe(Wi(u=>o.has(u)?dO(u,r,n,e):(u.data=nd(u,u.parent,n).resolve,H(void 0))),qe(()=>c++),Gi(1),Ve(u=>c===s.size?H(t):yt))})}function hb(n){let e=n.children.map(t=>hb(t)).flat();return[n,...e]}function dO(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!rb(i)&&(o[Ha]=i.title),Ps(()=>(n.data=nd(n,n.parent,t).resolve,hO(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function hO(n,e,t,r){let i=rm(n);if(i.length===0)return H({});let o={};return Ae(i).pipe(Ve(s=>fO(n[s],e,t,r).pipe(An(),qe(c=>{if(c instanceof wo)throw rd(new oi,c);o[s]=c}))),Gi(1),X(()=>o),rr(s=>cb(s)?yt:zi(s)))}function fO(n,e,t,r){let i=Do(e)??r,o=bo(n,i),s=o.resolve?o.resolve(e,t):Be(i,()=>o(e,t));return Vn(s)}function tm(n){return _t(e=>{let t=n(e);return t?Ae(t).pipe(X(()=>e)):H(e)})}var _m=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===K);return r}getResolvedTitleForRoute(t){return t.data[Ha]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>A(fb),providedIn:"root"})}return n})(),fb=(()=>{class n extends _m{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(MT))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Co=new B("",{providedIn:"root",factory:()=>({})}),Ga=new B(""),pb=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(Ig);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Vn(Be(t,()=>r.loadComponent())).pipe(X(mb),_t(yb),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Os(()=>{this.componentLoaders.delete(r)})),o=new Bi(i,()=>new ke).pipe(ji());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=gb(r,this.compiler,t,this.onLoadEndListener).pipe(Os(()=>{this.childrenLoaders.delete(r)})),s=new Bi(o,()=>new ke).pipe(ji());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gb(n,e,t,r){return Vn(Be(t,()=>n.loadChildren())).pipe(X(mb),_t(yb),Ve(i=>i instanceof El||Array.isArray(i)?H(i):Ae(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Ga,[],{optional:!0,self:!0}).flat()),{routes:s.map(vm),injector:o}}))}function pO(n){return n&&typeof n=="object"&&"default"in n}function mb(n){return pO(n)?n.default:n}function yb(n){return H(n)}var cd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>A(gO),providedIn:"root"})}return n})(),gO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vb=new B("");var _b=new B(""),Eb=(()=>{class n{currentNavigation=Nn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ke;transitionAbortWithErrorSubject=new ke;configLoader=A(pb);environmentInjector=A(xe);destroyRef=A(Qr);urlSerializer=A(za);rootContexts=A(To);location=A(ti);inputBindingEnabled=A(sd,{optional:!0})!==null;titleStrategy=A(_m);options=A(Co,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(cd);createViewTransition=A(vb,{optional:!0});navigationErrorHandler=A(_b,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Kl(i)),r=i=>this.events.next(new Ql(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;On(()=>{this.transitions?.next(ye(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ze(null),this.transitions.pipe(lt(r=>r!==null),_t(r=>{let i=!1;return H(r).pipe(_t(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ft.SupersededByNewNavigation),yt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ye(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.rawUrl),"",Oa.IgnoredSameUrlNavigation)),o.resolve(!1),yt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(_t(u=>(this.events.next(new si(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?yt:Promise.resolve(u))),uO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let d=new Fa(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:p,extras:m}=o,v=new si(u,this.urlSerializer.serialize(d),f,p);this.events.next(v);let S=tb(this.rootComponentType).snapshot;return this.currentTransition=r=ye(O({},o),{targetSnapshot:S,urlAfterRedirects:d,extras:ye(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=d,R)),H(r)}else return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Oa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),yt}),qe(o=>{let s=new zl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=ye(O({},o),{guards:AP(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),jP(this.environmentInjector,o=>this.events.next(o)),qe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw rd(this.urlSerializer,o.guardsResult);let s=new ql(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),lt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ft.GuardRejected),!1)),tm(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(qe(s=>{let c=new Wl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),_t(s=>{let c=!1;return H(s).pipe(lO(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",ft.NoDataFromResolver)}}))}),qe(s=>{let c=new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),tm(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let d=Do(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).pipe(qe(f=>{c.component=f}),X(()=>{})))}for(let d of c.children)u.push(...s(d));return u};return qi(s(o.targetSnapshot.root)).pipe(ir(null),zt(1))}),tm(()=>this.afterPreactivation()),_t(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ae(c).pipe(X(()=>r)):H(r)}),X(o=>{let s=DP(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ye(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),qe(()=>{this.events.next(new La)}),SP(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),zt(1),Qi(new G(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(lt(()=>!i&&!r.targetRouterState),qe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ft.Aborted)}))),qe({next:o=>{i=!0,this.lastSuccessfulNavigation=On(this.currentNavigation),this.events.next(new mn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Qi(this.transitionAbortWithErrorSubject.pipe(qe(o=>{throw o}))),Os(()=>{i||this.cancelNavigationTransition(r,"",ft.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),rr(o=>{if(this.destroyed)return r.resolve(!1),yt;if(i=!0,ab(o))this.events.next(new pn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),CP(o)?this.events.next(new Eo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new _o(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof wo){let{message:u,cancellationCode:d}=rd(this.urlSerializer,c);this.events.next(new pn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Eo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return yt}))}))}cancelNavigationTransition(t,r,i){let o=new pn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=On(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mO(n){return n!==ka}var wb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>A(yO),providedIn:"root"})}return n})(),od=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},yO=(()=>{class n extends od{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ca(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ib=(()=>{class n{urlSerializer=A(za);options=A(Co,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A(ti);urlHandlingStrategy=A(cd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof gn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=tb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>A(vO),providedIn:"root"})}return n})(),vO=(()=>{class n extends Ib{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof si?this.updateStateMemento():t instanceof Ln?this.commitTransition(r):t instanceof Fa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof La?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof pn&&t.code!==ft.SupersededByNewNavigation&&t.code!==ft.Redirect?this.restoreHistory(r):t instanceof _o?this.restoreHistory(r,!0):t instanceof mn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ca(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Em(n,e){n.events.pipe(lt(t=>t instanceof mn||t instanceof pn||t instanceof _o||t instanceof Ln),X(t=>t instanceof mn||t instanceof Ln?0:(t instanceof pn?t.code===ft.Redirect||t.code===ft.SupersededByNewNavigation:!1)?2:1),lt(t=>t!==2),zt(1)).subscribe(()=>{e()})}var _O={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ka=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(mg);stateManager=A(Ib);options=A(Co,{optional:!0})||{};pendingTasks=A(un);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(Eb);urlSerializer=A(za);location=A(ti);urlHandlingStrategy=A(cd);injector=A(xe);_events=new ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(wb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(Ga,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(sd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=On(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pn&&r.code!==ft.Redirect&&r.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mn)this.navigated=!0;else if(r instanceof Eo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mO(i.source)},s);this.scheduleNavigation(c,ka,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_P(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ka,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Nt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return On(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=ZT(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return JT(p,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=yr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ka,null,r)}navigate(t,r={skipLocationChange:!1}){return wO(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},_O):r===!1?i=O({},EO):i=r,yr(t))return kT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return kT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,d;s?(c=s.resolve,u=s.reject,d=s.promise):d=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return Em(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wO(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var vr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Nn(null);get href(){return On(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ke;applicationErrorHandler=A(Nt);options=A(Co,{optional:!0});constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.reactiveHref.set(A(new Tl("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof mn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(yr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ht(Ka),ht(Jt),ua("tabindex"),ht(vl),ht(uo),ht(hn))};static \u0275dir=jt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Il("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&pa("href",i.reactiveHref(),Yp)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wa],replaceUrl:[2,"replaceUrl","replaceUrl",wa],routerLink:"routerLink"},features:[xn]})}return n})();var DO=new B("");function wm(n,...e){return lr([{provide:Ga,multi:!0,useValue:n},[],{provide:Jt,useFactory:TO,deps:[Ka]},{provide:wl,multi:!0,useFactory:CO},e.map(t=>t.\u0275providers)])}function TO(n){return n.routerState.root}function bO(n,e){return{\u0275kind:n,\u0275providers:e}}function CO(){let n=A(Xe);return e=>{let t=n.get(ei);if(e!==t.components[0])return;let r=n.get(Ka),i=n.get(SO);n.get(AO)===1&&r.initialNavigation(),n.get(RO,null,{optional:!0})?.setUpPreloading(),n.get(DO,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SO=new B("",{factory:()=>new ke}),AO=new B("",{providedIn:"root",factory:()=>1});var RO=new B("");function Im(){return bO(6,[{provide:hn,useClass:Bg}])}var ud=class n{title=Nn("ad-proj");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Dt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&po(0,"router-outlet")},dependencies:[qa],encapsulation:2})};var ld=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Dt({type:n,selectors:[["app-home"]],decls:32,vars:0,consts:[[1,"content"],["routerLink","/",1,"header-link"],[1,"header"],[1,"blinking-underscore"],[1,"name"],["routerLink","https://www.progressive.com/","target","_blank"],[1,"footer"],["href","mailto:abbyadanger@gmail.com"],["href","https://www.linkedin.com/in/abigaildanger","target","_blank"],["routerLink","/blog"],[1,"footer-msg"]],template:function(t,r){t&1&&(ge(0,"main")(1,"div",0)(2,"a",1)(3,"div",2)(4,"h1",3),we(5,"_"),me(),ge(6,"h1"),we(7,"ad"),me()()(),ge(8,"p",4),we(9,"Abby Danger"),me(),ge(10,"p"),we(11,"Software Engineer based in Chicago."),me(),ge(12,"p"),we(13," Currently developing at "),ge(14,"a",5),we(15,"Progressive"),me(),we(16," as a full-stack engineer. "),me(),ge(17,"p"),we(18," I built this website to push my technical skills beyond my day job, explore minimal design, and create a space for sharing some of my thoughts. "),me(),ge(19,"div",6)(20,"p")(21,"a",7),we(22,"Email"),me()(),ge(23,"p")(24,"a",8),we(25,"LinkedIn"),me()(),ge(26,"p")(27,"a",9),we(28,"Blog"),me()()()(),ge(29,"div",10)(30,"p"),we(31,"Made with \u2764\uFE0F in Chicago."),me()()())},dependencies:[vr],styles:[".content[_ngcontent-%COMP%]{max-width:540px;margin:0 auto;padding:40px 20px;font-family:IBM Plex Mono,monospace;min-height:75vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{background-color:#efe7d3;color:#1a0089;font-family:IBM Plex Mono,monospace}.header[_ngcontent-%COMP%]{display:flex;font-size:xx-large}.header-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.footer[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:16px}.footer-msg[_ngcontent-%COMP%]{padding-top:15%;font-size:xx-small;bottom:0;width:100%;text-align:center}a[_ngcontent-%COMP%]{color:inherit;text-decoration:underline;text-decoration-thickness:2px;text-underline-offset:3px;text-decoration-color:#19008981;transition:text-decoration-color .2s}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration-color:#1a0089}.blinking-underscore[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s steps(1) infinite}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:0}}"]})};var Dm;try{Dm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dm=!1}var dd=(()=>{class n{_platformId=A(dn);isBrowser=this._platformId?wT(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Dm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var So=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({})}return n})();var Db=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({})}return n})(),Tb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({imports:[So,Db,So,Db]})}return n})();var bb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({imports:[Tb]})}return n})();function Tm(n){return Array.isArray(n)?n:[n]}var Cb=new Set,ai,MO=(()=>{class n{_platform=A(dd);_nonce=A(lo,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xO}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&kO(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kO(n,e){if(!Cb.has(n))try{ai||(ai=document.createElement("style"),e&&ai.setAttribute("nonce",e),ai.setAttribute("type","text/css"),document.head.appendChild(ai)),ai.sheet&&(ai.sheet.insertRule(`@media ${n} {body{ }}`,0),Cb.add(n))}catch(t){console.error(t)}}function xO(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Ab=(()=>{class n{_mediaMatcher=A(MO);_zone=A(pe);_queries=new Map;_destroySubject=new ke;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Sb(Tm(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=Sb(Tm(t)).map(s=>this._registerQuery(s).observable),o=qi(i);return o=nr(o.pipe(zt(1)),o.pipe(bf(1),Df(0))),o.pipe(X(s=>{let c={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new G(s=>{let c=u=>this._zone.run(()=>s.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Ki(r),X(({matches:s})=>({query:t,matches:s})),Qi(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sb(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var _r=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(_r||{}),Rb="cdk-high-contrast-black-on-white",Nb="cdk-high-contrast-white-on-black",bm="cdk-high-contrast-active",Cm=(()=>{class n{_platform=A(dd);_hasCheckedHighContrastMode;_document=A($e);_breakpointSubscription;constructor(){this._breakpointSubscription=A(Ab).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return _r.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return _r.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return _r.BLACK_ON_WHITE}return _r.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(bm,Rb,Nb),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===_r.BLACK_ON_WHITE?t.add(bm,Rb):r===_r.WHITE_ON_BLACK&&t.add(bm,Nb)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sm=(()=>{class n{constructor(){A(Cm)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({imports:[So,So]})}return n})();var Mb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=We({type:n});static \u0275inj=je({imports:[Sm,bb,Sm]})}return n})();var PO=n=>["/blog",n];function OO(n,e){if(n&1&&(ge(0,"tr")(1,"td")(2,"a",9),we(3),me()(),ge(4,"td",10),we(5),me()()),n&2){let t=e.$implicit;Pn(2),ga("routerLink",wg(3,PO,t.slug)),Pn(),ya(t.name),Pn(2),ya(t.date)}}var hd=class n{posts=[{name:"Digital Minimalism",slug:"first-blog-post",date:"12.29.24"},{name:"Why am I a developer?",slug:"first-blog-post",date:"2.3.25"},{name:"Productivity in a Remote World",slug:"first-blog-post",date:"7.17.25"},{name:"Climbing & Coding ???",slug:"first-blog-post",date:"8.2.25"},{name:"Being Creative",slug:"first-blog-post",date:"8.15.25"},{name:"Living a Full Life",slug:"first-blog-post",date:"8.20.25"},{name:"26",slug:"first-blog-post",date:"9.5.25"}];displayedColumns=["name","date"];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Dt({type:n,selectors:[["app-blog-list"]],decls:16,vars:1,consts:[[1,"content"],["routerLink","/",1,"header-link"],[1,"header"],[1,"blinking-underscore"],[1,"blog-posts"],[4,"ngFor","ngForOf"],[1,"arrow"],["routerLink","/"],[1,"footer-msg"],[3,"routerLink"],[1,"date"]],template:function(t,r){t&1&&(ge(0,"main")(1,"div",0)(2,"a",1)(3,"div",2)(4,"h1",3),we(5,"_"),me(),ge(6,"h1"),we(7,"ad blog"),me()()(),ge(8,"table",4),fo(9,OO,6,5,"tr",5),me(),ge(10,"div",6)(11,"a",7),we(12,"\u21A9"),me()()(),ge(13,"div",8)(14,"p"),we(15,"Made with \u2764\uFE0F in Chicago."),me()()()),t&2&&(Pn(9),ga("ngForOf",r.posts))},dependencies:[xl,kl,Mb,vr],styles:[".content[_ngcontent-%COMP%]{max-width:540px;margin:0 auto;padding:40px 20px;font-family:IBM Plex Mono,monospace;min-height:75vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{background-color:#efe7d3;color:#1a0089;font-family:IBM Plex Mono,monospace}.header[_ngcontent-%COMP%]{display:flex;font-size:xx-large;padding-bottom:10%}.header-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:underline;text-decoration-thickness:2px;text-underline-offset:3px;text-decoration-color:#19008981;transition:text-decoration-color .2s}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration-color:#1a0089}.blinking-underscore[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s steps(1) infinite}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:0}}.blog-posts[_ngcontent-%COMP%]{padding-bottom:10%}.date[_ngcontent-%COMP%]{text-align:right}.arrow[_ngcontent-%COMP%]{font-size:medium;text-align:right}.arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.footer-msg[_ngcontent-%COMP%]{padding-top:15%;font-size:xx-small;bottom:0;width:100%;text-align:center}"]})};var kb=()=>{};var Ob=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},FO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|d>>6,v=d&63;u||(v=64,s||(m=64)),r.push(t[f],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ob(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||d==null||p==null)throw new Rm;let m=o<<2|c>>4;if(r.push(m),d!==64){let v=c<<4&240|d>>2;if(r.push(v),p!==64){let S=d<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Rm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LO=function(n){let e=Ob(n);return fd.encodeByteArray(e,!0)},Ya=function(n){return LO(n).replace(/\./g,"")},pd=function(n){try{return fd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var VO=()=>Mm().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&pd(n[1]);return e&&JSON.parse(e)},gd=()=>{try{return kb()||VO()||jO()||BO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Fb=n=>{var e,t;return(t=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Lb=n=>{let e=Fb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},km=()=>{var n;return(n=gd())===null||n===void 0?void 0:n.config},Vb=n=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${n}`]};var ci=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ui(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xm(n){return(await fetch(n,{credentials:"include"})).ok}function jb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ya(JSON.stringify(t)),Ya(JSON.stringify(s)),""].join(".")}var Qa={};function UO(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qa))Qa[e]?n.emulator.push(e):n.prod.push(e);return n}function $O(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var xb=!1;function Pm(n,e){if(typeof window>"u"||typeof document>"u"||!ui(window.location.host)||Qa[n]===e||Qa[n]||xb)return;Qa[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=UO().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{xb=!0,s()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=$O(r),v=t("text"),S=document.getElementById(v)||document.createElement("span"),R=t("learnmore"),N=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),Z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;c(Y),f(N,R);let ve=d();u(Z,F),Y.append(Z,S,N,ve),document.body.appendChild(Y)}o?(S.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function HO(){var n;let e=(n=gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zb(){return!HO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Za(){try{return typeof indexedDB=="object"}catch{return!1}}function qb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var zO="FirebaseError",Bt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=zO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}},Xt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qO(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,c,r)}};function qO(n,e){return n.replace(WO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var WO=/\{\$([^}]+)}/g;function li(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Pb(o)&&Pb(s)){if(!li(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Pb(n){return n!==null&&typeof n=="object"}function Om(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wb(n,e){let t=new Nm(n,e);return t.subscribe.bind(t)}var Nm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");GO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Am),i.error===void 0&&(i.error=Am),i.complete===void 0&&(i.complete=Am);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function GO(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Am(){}var CZ=14400*1e3;function jn(n){return n&&n._delegate?n._delegate:n}var pt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var Fm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ci;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QO(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function KO(n){return n===di?void 0:n}function QO(n){return n.instantiationMode==="EAGER"}var md=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Fm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var YO=[],ne=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ne||{}),ZO={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},JO=ne.INFO,XO={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},e1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=XO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yn=class{constructor(e){this.name=e,this._logLevel=JO,this._logHandler=e1,this._userLogHandler=null,YO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var t1=(n,e)=>e.some(t=>n instanceof t),Gb,Kb;function n1(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r1(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Qb=new WeakMap,Vm=new WeakMap,Yb=new WeakMap,Lm=new WeakMap,Bm=new WeakMap;function i1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(vn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Qb.set(t,n)}).catch(()=>{}),Bm.set(e,n),e}function o1(n){if(Vm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Vm.set(n,e)}var jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Yb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zb(n){jm=n(jm)}function s1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(yd(this),e,...t);return Yb.set(r,e.sort?e.sort():[e]),vn(r)}:r1().includes(n)?function(...e){return n.apply(yd(this),e),vn(Qb.get(this))}:function(...e){return vn(n.apply(yd(this),e))}}function a1(n){return typeof n=="function"?s1(n):(n instanceof IDBTransaction&&o1(n),t1(n,n1())?new Proxy(n,jm):n)}function vn(n){if(n instanceof IDBRequest)return i1(n);if(Lm.has(n))return Lm.get(n);let e=a1(n);return e!==n&&(Lm.set(n,e),Bm.set(e,n)),e}var yd=n=>Bm.get(n);function Xb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vn(s.result),u.oldVersion,u.newVersion,vn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var c1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Um=new Map;function Jb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=u1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c1.includes(t)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&u.done]))[0]};return Um.set(e,o),o}Zb(n=>ye(O({},n),{get:(e,t,r)=>Jb(e,t)||n.get(e,t,r),has:(e,t)=>!!Jb(e,t)||n.has(e,t)}));var Hm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(l1(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function l1(n){let e=n.getComponent();return e?.type==="VERSION"}var zm="@firebase/app",eC="0.13.2";var Bn=new yn("@firebase/app"),d1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",p1="@firebase/app-check-compat",g1="@firebase/app-check",m1="@firebase/auth",y1="@firebase/auth-compat",v1="@firebase/database",_1="@firebase/data-connect",E1="@firebase/database-compat",w1="@firebase/functions",I1="@firebase/functions-compat",D1="@firebase/installations",T1="@firebase/installations-compat",b1="@firebase/messaging",C1="@firebase/messaging-compat",S1="@firebase/performance",A1="@firebase/performance-compat",R1="@firebase/remote-config",N1="@firebase/remote-config-compat",M1="@firebase/storage",k1="@firebase/storage-compat",x1="@firebase/firestore",P1="@firebase/ai",O1="@firebase/firestore-compat",F1="firebase",L1="11.10.0";var qm="[DEFAULT]",V1={[zm]:"fire-core",[d1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[g1]:"fire-app-check",[p1]:"fire-app-check-compat",[m1]:"fire-auth",[y1]:"fire-auth-compat",[v1]:"fire-rtdb",[_1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[w1]:"fire-fn",[I1]:"fire-fn-compat",[D1]:"fire-iid",[T1]:"fire-iid-compat",[b1]:"fire-fcm",[C1]:"fire-fcm-compat",[S1]:"fire-perf",[A1]:"fire-perf-compat",[R1]:"fire-rc",[N1]:"fire-rc-compat",[M1]:"fire-gcs",[k1]:"fire-gcs-compat",[x1]:"fire-fst",[O1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};var Ja=new Map,j1=new Map,Wm=new Map;function tC(n,e){try{n.container.addComponent(e)}catch(t){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function en(n){let e=n.name;if(Wm.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,n);for(let t of Ja.values())tC(t,n);for(let t of j1.values())tC(t,n);return!0}function vd(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Un(n){return n==null?!1:n.settings!==void 0}var B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Xt("app","Firebase",B1);var Gm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}};var Ao=L1;function Ym(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(t||(t=km()),!t)throw Er.create("no-options");let o=Ja.get(i);if(o){if(li(t,o.options)&&li(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}let s=new md(i);for(let u of Wm.values())s.addComponent(u);let c=new Gm(t,r,s);return Ja.set(i,c),c}function Ro(n=qm){let e=Ja.get(n);if(!e&&n===qm&&km())return Ym();if(!e)throw Er.create("no-app",{appName:n});return e}function _d(){return Array.from(Ja.values())}function Re(n,e,t){var r;let i=(r=V1[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(c.join(" "));return}en(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var U1="firebase-heartbeat-database",$1=1,Xa="firebase-heartbeat-store",$m=null;function oC(){return $m||($m=Xb(U1,$1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Er.create("idb-open",{originalErrorMessage:n.message})})),$m}async function H1(n){try{let t=(await oC()).transaction(Xa),r=await t.objectStore(Xa).get(sC(n));return await t.done,r}catch(e){if(e instanceof Bt)Bn.warn(e.message);else{let t=Er.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(t.message)}}}async function nC(n,e){try{let r=(await oC()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,sC(n)),await r.done}catch(t){if(t instanceof Bt)Bn.warn(t.message);else{let r=Er.create("idb-set",{originalErrorMessage:t?.message});Bn.warn(r.message)}}}function sC(n){return`${n.name}!${n.options.appId}`}var z1=1024,q1=30,Km=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Qm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>q1){let s=G1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=rC(),{heartbeatsToSend:r,unsentEntries:i}=W1(this._heartbeatsCache.heartbeats),o=Ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bn.warn(t),""}}};function rC(){return new Date().toISOString().substring(0,10)}function W1(n,e=z1){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Qm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Za()?qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await H1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return nC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return nC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function iC(n){return Ya(JSON.stringify({version:2,heartbeats:n})).length}function G1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function K1(n){en(new pt("platform-logger",e=>new Hm(e),"PRIVATE")),en(new pt("heartbeat",e=>new Km(e),"PRIVATE")),Re(zm,eC,n),Re(zm,eC,"esm2017"),Re("fire-js","")}K1("");var Q1="firebase",Y1="11.10.0";Re(Q1,Y1,"app");function aC(n){n===void 0&&(n=A(Xe));let e=n.get(no);return t=>new G(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var fi=new Ea("ANGULARFIRE2_VERSION");function wd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Mo=(n,e)=>{let t=e?[e]:_d(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},No=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(No||{}),cC=Fg()&&typeof Zone<"u"?No.WARN:No.SILENT;var Ed=class{zone;delegate;constructor(e,t=Ef){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},pi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=A(pe);this.outsideAngular=t.runOutsideAngular(()=>new Ed(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ed(typeof Zone>"u"?void 0:Zone.current,xs))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uC=!1;function Z1(n,e){!uC&&(cC>No.SILENT||Fg())&&(uC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),cC>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function J1(n){let e=A(pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hi(n){let e=A(pe,{optional:!0});return e?e.run(()=>n()):n()}var X1=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Be(t,()=>hi(()=>n.apply(void 0,r)))),wr=(n,e,t)=>(t||=e?No.WARN:No.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=A(pi),s=A(no),c=A(xe)}catch{return Z1(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=hi(()=>s.add())),i[d]=X1(i[d],r,c));let u=J1(()=>n.apply(this,i));return e?u instanceof G?u.pipe(tr(o.outsideAngular),er(o.insideAngular),aC(c)):u instanceof Promise?hi(()=>{let d=s.add();return new Promise((f,p)=>{u.then(m=>Be(c,()=>hi(()=>f(m))),m=>Be(c,()=>hi(()=>p(m)))).finally(d)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:hi(()=>u):u instanceof G?u.pipe(tr(o.outsideAngular),er(o.insideAngular)):hi(()=>u)});var gi=class{constructor(e){return e}},ec=class{constructor(){return _d()}};function eF(n){return n&&n.length===1?n[0]:new gi(Ro())}var Zm=new B("angularfire2._apps"),tF={provide:gi,useFactory:eF,deps:[[new kn,Zm]]},nF={provide:ec,deps:[[new kn,Zm]]};function rF(n){return(e,t)=>{let r=t.get(dn);Re("angularfire",fi.full,"core"),Re("angularfire",fi.full,"app"),Re("angular",pT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new gi(i)}}function lC(n,...e){return lr([tF,nF,{provide:Zm,useFactory:rF(n),multi:!0,deps:[pe,Xe,pi,...e]}])}var dC=wr(Ym,!0);var iF=new Map,oF={activated:!1,tokenObservers:[]},sF={initialized:!1,enabled:!1};function tn(n){return iF.get(n)||Object.assign({},oF)}function gC(){return sF}var aF="https://content-firebaseappcheck.googleapis.com/v1";var cF="exchangeDebugToken",hC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},CJ=1440*60*1e3;var ey=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ci,this.pending.promise.catch(t=>{}),await uF(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ci,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function uF(n){return new Promise(e=>{setTimeout(e,n)})}var lF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ir=new Xt("appCheck","AppCheck",lF);function mC(n){if(!tn(n).activated)throw Ir.create("use-before-activation",{appName:n.name})}async function yC({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw Ir.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Ir.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw Ir.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ir.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}}function vC(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${aF}/projects/${t}/apps/${r}:${cF}?key=${i}`,body:{debug_token:e}}}var dF="firebase-app-check-database",hF=1,ty="firebase-app-check-store";var Id=null;function fF(){return Id||(Id=new Promise((n,e)=>{try{let t=indexedDB.open(dF,hF);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ir.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ty,{keyPath:"compositeKey"})}}}catch(t){e(Ir.create("storage-open",{originalErrorMessage:t?.message}))}}),Id)}function pF(n,e){return gF(mF(n),e)}async function gF(n,e){let r=(await fF()).transaction(ty,"readwrite"),o=r.objectStore(ty).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var d;c(Ir.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})}function mF(n){return`${n.options.appId}-${n.name}`}var tc=new yn("@firebase/app-check");function Jm(n,e){return Za()?pF(n,e).catch(t=>{tc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _C(){return gC().enabled}async function EC(){let n=gC();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var yF={error:"UNKNOWN_ERROR"};function vF(n){return fd.encodeString(JSON.stringify(n),!1)}async function ny(n,e=!1,t=!1){let r=n.app;mC(r);let i=tn(r),o=i.token,s;if(o&&!nc(o)&&(i.token=void 0,o=void 0),!o){let d=await i.cachedTokenPromise;d&&(nc(d)?o=d:await Jm(r,void 0))}if(!e&&o&&nc(o))return{token:o.token};let c=!1;if(_C())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=yC(vC(r,await EC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let d=await i.exchangeTokenPromise;return await Jm(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?tc.warn(d.message):t&&tc.error(d),Xm(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await tn(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?tc.warn(d.message):t&&tc.error(d),s=d}let u;return o?s?nc(o)?u={token:o.token,internalError:s}:u=Xm(s):(u={token:o.token},i.token=o,await Jm(r,o)):u=Xm(s),c&&IF(r,u),u}async function _F(n){let e=n.app;mC(e);let{provider:t}=tn(e);if(_C()){let r=await EC(),{token:i}=await yC(vC(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function EF(n,e,t,r){let{app:i}=n,o=tn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),fC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fC(n))}function wC(n,e){let t=tn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function fC(n){let{app:e}=n,t=tn(e),r=t.tokenRefresher;r||(r=wF(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function wF(n){let{app:e}=n;return new ey(async()=>{let t=tn(e),r;if(t.token?r=await ny(n,!0):r=await ny(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=tn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},hC.RETRIAL_MIN_WAIT,hC.RETRIAL_MAX_WAIT)}function IF(n,e){let t=tn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nc(n){return n.expireTimeMillis-Date.now()>0}function Xm(n){return{token:vF(yF),error:n}}var ry=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=tn(this.app);for(let t of e)wC(this.app,t.next);return Promise.resolve()}};function DF(n,e){return new ry(n,e)}function TF(n){return{getToken:e=>ny(n,e),getLimitedUseToken:()=>_F(n),addTokenListener:e=>EF(n,"INTERNAL",e),removeTokenListener:e=>wC(n.app,e)}}var bF="@firebase/app-check",CF="0.10.1";var SF="app-check",pC="app-check-internal";function AF(){en(new pt(SF,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return DF(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pC).initialize()})),en(new pt(pC,n=>{let e=n.getProvider("app-check").getImmediate();return TF(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Re(bF,CF)}AF();var RF="app-check";var Dd=class{constructor(){return Mo(RF)}};var NF=["localhost","0.0.0.0","127.0.0.1"],VJ=typeof window<"u"&&NF.includes(window.location.hostname);function RC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NC=RC,MC=new Xt("auth","Firebase",RC());var Sd=new yn("@firebase/auth");function MF(n,...e){Sd.logLevel<=ne.WARN&&Sd.warn(`Auth (${Ao}): ${n}`,...e)}function bd(n,...e){Sd.logLevel<=ne.ERROR&&Sd.error(`Auth (${Ao}): ${n}`,...e)}function IC(n,...e){throw gy(n,...e)}function py(n,...e){return gy(n,...e)}function kC(n,e,t){let r=Object.assign(Object.assign({},NC()),{[e]:t});return new Xt("auth","Firebase",r).create(e,{appName:n.name})}function Cd(n){return kC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return MC.create(n,...e)}function de(n,e,...t){if(!n)throw gy(e,...t)}function rc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw bd(e),new Error(e)}function Ad(n,e){n||rc(e)}function kF(){return DC()==="http:"||DC()==="https:"}function DC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function xF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kF()||$b()||"connection"in navigator)?navigator.onLine:!0}function PF(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var vi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ad(t>e,"Short delay should be less than long delay!"),this.isMobile=Bb()||Hb()}get(){return xF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function OF(n,e){Ad(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VF=new vi(3e4,6e4);function xC(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pd(n,e,t,r,i={}){return PC(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=Om(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:u},o);return Ub()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&ui(n.emulatorConfig.host)&&(d.credentials="include"),Rd.fetch()(await OC(n,n.config.apiHost,t,c),d)})}async function PC(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},FF),e);try{let i=new sy(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Td(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Td(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw kC(n,f,d);IC(n,f)}}catch(i){if(i instanceof Bt)throw i;IC(n,"network-request-failed",{message:String(i)})}}async function OC(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?OF(n.config,i):`${n.config.apiScheme}://${i}`;return LF.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var sy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(py(this.auth,"network-request-failed")),VF.get())})}};function Td(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=py(n,e,r);return i.customData._tokenResponse=t,i}async function jF(n,e){return Pd(n,"POST","/v1/accounts:delete",e)}async function Nd(n,e){return Pd(n,"POST","/v1/accounts:lookup",e)}function ic(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function my(n,e=!1){let t=jn(n),r=await t.getIdToken(e),i=FC(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ic(iy(i.auth_time)),issuedAtTime:ic(iy(i.iat)),expirationTime:ic(iy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function iy(n){return Number(n)*1e3}function FC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=pd(t);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TC(n){let e=FC(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ay(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bt&&BF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function BF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var cy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var sc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Md(n){var e;let t=n.auth,r=await n.getIdToken(),i=await ay(n,Nd(t,{idToken:r}));de(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LC(o.providerUserInfo):[],c=UF(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!c?.length,f=u?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function yy(n){let e=jn(n);await Md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LC(n){return n.map(e=>{var{providerId:t}=e,r=wf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function $F(n,e){let t=await PC(n,{},async()=>{let r=Om({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await OC(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&ui(n.emulatorConfig.host)&&(u.credentials="include"),Rd.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HF(n,e){return Pd(n,"POST","/v2/accounts:revokeToken",xC(n,e))}var oc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=TC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await $F(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return rc("not implemented")}};function Dr(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var mi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await ay(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return my(this,e)}reload(){return yy(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Cd(this.auth));let e=await this.getIdToken();return await ay(this,jF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,d,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=t.createdAt)!==null&&d!==void 0?d:void 0,Z=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Y,emailVerified:ve,isAnonymous:at,providerData:fe,stsTokenManager:I}=t;de(Y&&I,e,"internal-error");let y=oc.fromJSON(this.name,I);de(typeof Y=="string",e,"internal-error"),Dr(p,e.name),Dr(m,e.name),de(typeof ve=="boolean",e,"internal-error"),de(typeof at=="boolean",e,"internal-error"),Dr(v,e.name),Dr(S,e.name),Dr(R,e.name),Dr(N,e.name),Dr(F,e.name),Dr(Z,e.name);let E=new n({uid:Y,auth:e,email:m,emailVerified:ve,displayName:p,isAnonymous:at,photoURL:S,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:F,lastLoginAt:Z});return fe&&Array.isArray(fe)&&(E.providerData=fe.map(w=>Object.assign({},w))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new oc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Md(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?LC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new oc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u}};var bC=new Map;function yi(n){Ad(n instanceof Function,"Expected a class definition");let e=bC.get(n);return e?(Ad(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bC.set(n,e),e)}var zF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),uy=zF;function oy(n,e,t){return`firebase:${n}:${e}:${t}`}var kd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oy(this.userKey,i.apiKey,o),this.fullPersistenceKey=oy("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Nd(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(yi(uy),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||yi(uy),s=oy(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let f=await d._get(s);if(f){let p;if(typeof f=="string"){let m=await Nd(e,{idToken:f}).catch(()=>{});if(!m)break;p=await mi._fromGetAccountInfoResponse(e,m,f)}else p=mi._fromJSON(e,f);d!==o&&(c=p),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new n(o,e,r))}};function CC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YF(e))return"Blackberry";if(ZF(e))return"Webos";if(WF(e))return"Safari";if((e.includes("chrome/")||GF(e))&&!e.includes("edge/"))return"Chrome";if(QF(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function qF(n=xt()){return/firefox\//i.test(n)}function WF(n=xt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GF(n=xt()){return/crios\//i.test(n)}function KF(n=xt()){return/iemobile/i.test(n)}function QF(n=xt()){return/android/i.test(n)}function YF(n=xt()){return/blackberry/i.test(n)}function ZF(n=xt()){return/webos/i.test(n)}function VC(n,e=[]){let t;switch(n){case"Browser":t=CC(xt());break;case"Worker":t=`${CC(xt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${r}`}var ly=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function JF(n,e={}){return Pd(n,"GET","/v2/passwordPolicy",xC(n,e))}var XF=6,dy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:XF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xd(this),this.idTokenSubscription=new xd(this),this.beforeStateQueue=new ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await kd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Nd(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Md(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Cd(this));let t=e?jn(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Cd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Cd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await JF(this),t=new dy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await HF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&yi(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await kd.create(this,[yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&MF(`Error while retrieving App Check token: ${t.error}`),t?.token}};function eL(n){return jn(n)}var xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wb(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tL={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nL(n){tL=n}function rL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function iL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var YJ=rL("rcb"),ZJ=new vi(3e4,6e4);var JJ=new vi(2e3,1e4);var XJ=600*1e3;var eX=new vi(3e4,6e4);var tX=new vi(5e3,15e3);var nX=encodeURIComponent("fac");var SC="@firebase/auth",AC="1.10.8";var fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(n){en(new pt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VC(n)},d=new hy(r,i,o,u);return iL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),en(new pt("auth-internal",e=>{let t=eL(e.getProvider("auth").getImmediate());return(r=>new fy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(SC,AC,oL(n)),Re(SC,AC,"esm2017")}var aL=300,rX=Vb("authIdTokenMaxAge")||aL;function cL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=py("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",cL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");var sV="auth";var Od=class{constructor(){return Mo(sV)}};var jC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BC={};var $n,vy;(function(){var n;function e(I,y){function E(){}E.prototype=y.prototype,I.D=y.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,D,b){for(var _=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)_[Tn-2]=arguments[Tn];return y.prototype[D].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,E){E||(E=0);var w=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)w[D]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(D=0;16>D;++D)w[D]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=I.g[0],E=I.g[1],D=I.g[2];var b=I.g[3],_=y+(b^E&(D^b))+w[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=b+(D^y&(E^D))+w[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(E^b&(y^E))+w[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(y^D&(b^y))+w[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=y+(b^E&(D^b))+w[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(D^y&(E^D))+w[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(E^b&(y^E))+w[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(y^D&(b^y))+w[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=y+(b^E&(D^b))+w[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(D^y&(E^D))+w[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(E^b&(y^E))+w[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(y^D&(b^y))+w[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=y+(b^E&(D^b))+w[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=b+(D^y&(E^D))+w[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(E^b&(y^E))+w[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(y^D&(b^y))+w[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=y+(D^b&(E^D))+w[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(y^E))+w[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^E&(b^y))+w[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(D^b))+w[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(E^D))+w[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(y^E))+w[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^E&(b^y))+w[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(D^b))+w[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(E^D))+w[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(y^E))+w[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^E&(b^y))+w[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(D^b))+w[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(E^D))+w[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(y^E))+w[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^E&(b^y))+w[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^y&(D^b))+w[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=y+(E^D^b)+w[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^D)+w[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^E)+w[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^y)+w[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=y+(E^D^b)+w[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^D)+w[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^E)+w[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^y)+w[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=y+(E^D^b)+w[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^D)+w[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^E)+w[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^y)+w[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=y+(E^D^b)+w[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=b+(y^E^D)+w[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^E)+w[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^y)+w[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=y+(D^(E|~b))+w[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~D))+w[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~E))+w[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~y))+w[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=y+(D^(E|~b))+w[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~D))+w[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~E))+w[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~y))+w[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=y+(D^(E|~b))+w[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~D))+w[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~E))+w[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~y))+w[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=y+(D^(E|~b))+w[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=b+(E^(y|~D))+w[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~E))+w[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~y))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var E=y-this.blockSize,w=this.B,D=this.h,b=0;b<y;){if(D==0)for(;b<=E;)i(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<y;)if(w[D++]=I.charCodeAt(b++),D==this.blockSize){i(this,w),D=0;break}}else for(;b<y;)if(w[D++]=I[b++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var E=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=E&255,E/=256;for(this.u(I),I=Array(16),y=E=0;4>y;++y)for(var w=0;32>w;w+=8)I[E++]=this.g[y]>>>w&255;return I};function o(I,y){var E=c;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=y(I)}function s(I,y){this.h=y;for(var E=[],w=!0,D=I.length-1;0<=D;D--){var b=I[D]|0;w&&b==y||(E[D]=b,w=!1)}this.g=E}var c={};function u(I){return-128<=I&&128>I?o(I,function(y){return new s([y|0],0>y?-1:0)}):new s([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return N(d(-I));for(var y=[],E=1,w=0;I>=E;w++)y[w]=I/E|0,E*=4294967296;return new s(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return N(f(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(y,8)),w=p,D=0;D<I.length;D+=8){var b=Math.min(8,I.length-D),_=parseInt(I.substring(D,D+b),y);8>b?(b=d(Math.pow(y,b)),w=w.j(b).add(d(_))):(w=w.j(E),w=w.add(d(_)))}return w}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(R(this))return-N(this).m();for(var I=0,y=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(R(this))return"-"+N(this).toString(I);for(var y=d(Math.pow(I,6)),E=this,w="";;){var D=ve(E,y).g;E=F(E,D.j(y));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=D,S(E))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function R(I){return I.h==-1}n.l=function(I){return I=F(this,I),R(I)?-1:S(I)?0:1};function N(I){for(var y=I.g.length,E=[],w=0;w<y;w++)E[w]=~I.g[w];return new s(E,~I.h).add(m)}n.abs=function(){return R(this)?N(this):this},n.add=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0,D=0;D<=y;D++){var b=w+(this.i(D)&65535)+(I.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);w=_>>>16,b&=65535,_&=65535,E[D]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(I,y){return I.add(N(y))}n.j=function(I){if(S(this)||S(I))return p;if(R(this))return R(I)?N(this).j(N(I)):N(N(this).j(I));if(R(I))return N(this.j(N(I)));if(0>this.l(v)&&0>I.l(v))return d(this.m()*I.m());for(var y=this.g.length+I.g.length,E=[],w=0;w<2*y;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<I.g.length;D++){var b=this.i(w)>>>16,_=this.i(w)&65535,Tn=I.i(D)>>>16,as=I.i(D)&65535;E[2*w+2*D]+=_*as,Z(E,2*w+2*D),E[2*w+2*D+1]+=b*as,Z(E,2*w+2*D+1),E[2*w+2*D+1]+=_*Tn,Z(E,2*w+2*D+1),E[2*w+2*D+2]+=b*Tn,Z(E,2*w+2*D+2)}for(w=0;w<y;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=y;w<2*y;w++)E[w]=0;return new s(E,0)};function Z(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function Y(I,y){this.g=I,this.h=y}function ve(I,y){if(S(y))throw Error("division by zero");if(S(I))return new Y(p,p);if(R(I))return y=ve(N(I),y),new Y(N(y.g),N(y.h));if(R(y))return y=ve(I,N(y)),new Y(N(y.g),y.h);if(30<I.g.length){if(R(I)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=y;0>=w.l(I);)E=at(E),w=at(w);var D=fe(E,1),b=fe(w,1);for(w=fe(w,2),E=fe(E,2);!S(w);){var _=b.add(w);0>=_.l(I)&&(D=D.add(E),b=_),w=fe(w,1),E=fe(E,1)}return y=F(I,D.j(y)),new Y(D,y)}for(D=p;0<=I.l(y);){for(E=Math.max(1,Math.floor(I.m()/y.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=d(E),_=b.j(y);R(_)||0<_.l(I);)E-=w,b=d(E),_=b.j(y);S(b)&&(b=m),D=D.add(b),I=F(I,_)}return new Y(D,I)}n.A=function(I){return ve(this,I).h},n.and=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)&I.i(w);return new s(E,this.h&I.h)},n.or=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)|I.i(w);return new s(E,this.h|I.h)},n.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)^I.i(w);return new s(E,this.h^I.h)};function at(I){for(var y=I.g.length+1,E=[],w=0;w<y;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(E,I.h)}function fe(I,y){var E=y>>5;y%=32;for(var w=I.g.length-E,D=[],b=0;b<w;b++)D[b]=0<y?I.i(b+E)>>>y|I.i(b+E+1)<<32-y:I.i(b+E);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vy=BC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,$n=BC.Integer=s}).apply(typeof jC<"u"?jC:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var _y,aV,ko,Ey,ac,Ld,wy,Iy,Dy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],l=l(g),l!=g&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var C=h++;return{value:l(C,a[C]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function p(a,l,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(l,T)}}return function(){return a.apply(l,arguments)}}function m(a,l,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,C){for(var k=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)k[_e-2]=arguments[_e];return l.prototype[T].apply(g,k)}}function R(a){let l=a.length;if(0<l){let h=Array(l);for(let g=0;g<l;g++)h[g]=a[g];return h}return[]}function N(a,l){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,C=g.length||0;a.length=T+C;for(let k=0;k<C;k++)a[T+k]=g[k]}else a.push(g)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function Z(a){return/^[\s\xa0]*$/.test(a)}function Y(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var at=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function fe(a,l,h){for(let g in a)l.call(h,a[g],g,a)}function I(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function y(a){let l={};for(let h in a)l[h]=a[h];return l}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let C=0;C<E.length;C++)h=E[C],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Ah;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class Tn{constructor(){this.h=this.g=null}add(l,h){let g=as.get();g.set(l,h),this.h?this.h.next=g:this.g=g,this.h=g}}var as=new F(()=>new nA,a=>a.reset());class nA{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let cs,us=!1,Ah=new Tn,w_=()=>{let a=c.Promise.resolve(void 0);cs=()=>{a.then(rA)}};var rA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var l=as;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}us=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var iA=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a})();function ls(a,l){if(et.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(at){e:{try{ve(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:oA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ls.aa.h.call(this)}}S(ls,et);var oA={2:"touch",3:"pen",4:"mouse"};ls.prototype.h=function(){ls.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ds="closure_listenable_"+(1e6*Math.random()|0),sA=0;function aA(a,l,h,g,T){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!g,this.ha=T,this.key=++sA,this.da=this.fa=!1}function kc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function xc(a){this.src=a,this.g={},this.h=0}xc.prototype.add=function(a,l,h,g,T){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var k=Nh(a,l,g,T);return-1<k?(l=a[k],h||(l.fa=!1)):(l=new aA(l,this.src,C,!!g,T),l.fa=h,a.push(l)),l};function Rh(a,l){var h=l.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,l,void 0),C;(C=0<=T)&&Array.prototype.splice.call(g,T,1),C&&(kc(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Nh(a,l,h,g){for(var T=0;T<a.length;++T){var C=a[T];if(!C.da&&C.listener==l&&C.capture==!!h&&C.ha==g)return T}return-1}var Mh="closure_lm_"+(1e6*Math.random()|0),kh={};function I_(a,l,h,g,T){if(g&&g.once)return T_(a,l,h,g,T);if(Array.isArray(l)){for(var C=0;C<l.length;C++)I_(a,l[C],h,g,T);return null}return h=Fh(h),a&&a[ds]?a.K(l,h,d(g)?!!g.capture:!!g,T):D_(a,l,h,!1,g,T)}function D_(a,l,h,g,T,C){if(!l)throw Error("Invalid event type");var k=d(T)?!!T.capture:!!T,_e=Ph(a);if(_e||(a[Mh]=_e=new xc(a)),h=_e.add(l,h,g,k,C),h.proxy)return h;if(g=cA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)iA||(T=k),T===void 0&&(T=!1),a.addEventListener(l.toString(),g,T);else if(a.attachEvent)a.attachEvent(C_(l.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function cA(){function a(h){return l.call(a.src,a.listener,h)}let l=uA;return a}function T_(a,l,h,g,T){if(Array.isArray(l)){for(var C=0;C<l.length;C++)T_(a,l[C],h,g,T);return null}return h=Fh(h),a&&a[ds]?a.L(l,h,d(g)?!!g.capture:!!g,T):D_(a,l,h,!0,g,T)}function b_(a,l,h,g,T){if(Array.isArray(l))for(var C=0;C<l.length;C++)b_(a,l[C],h,g,T);else g=d(g)?!!g.capture:!!g,h=Fh(h),a&&a[ds]?(a=a.i,l=String(l).toString(),l in a.g&&(C=a.g[l],h=Nh(C,h,g,T),-1<h&&(kc(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[l],a.h--)))):a&&(a=Ph(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Nh(l,h,g,T)),(h=-1<a?l[a]:null)&&xh(h))}function xh(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[ds])Rh(l.i,a);else{var h=a.type,g=a.proxy;l.removeEventListener?l.removeEventListener(h,g,a.capture):l.detachEvent?l.detachEvent(C_(h),g):l.addListener&&l.removeListener&&l.removeListener(g),(h=Ph(l))?(Rh(h,a),h.h==0&&(h.src=null,l[Mh]=null)):kc(a)}}}function C_(a){return a in kh?kh[a]:kh[a]="on"+a}function uA(a,l){if(a.da)a=!0;else{l=new ls(l,this);var h=a.listener,g=a.ha||a.src;a.fa&&xh(a),a=h.call(g,l)}return a}function Ph(a){return a=a[Mh],a instanceof xc?a:null}var Oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fh(a){return typeof a=="function"?a:(a[Oh]||(a[Oh]=function(l){return a.handleEvent(l)}),a[Oh])}function tt(){Qn.call(this),this.i=new xc(this),this.M=this,this.F=null}S(tt,Qn),tt.prototype[ds]=!0,tt.prototype.removeEventListener=function(a,l,h,g){b_(this,a,l,h,g)};function ct(a,l){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=l.type||l,typeof l=="string")l=new et(l,a);else if(l instanceof et)l.target=l.target||a;else{var T=l;l=new et(g,a),w(l,T)}if(T=!0,h)for(var C=h.length-1;0<=C;C--){var k=l.g=h[C];T=Pc(k,g,!0,l)&&T}if(k=l.g=a,T=Pc(k,g,!0,l)&&T,T=Pc(k,g,!1,l)&&T,h)for(C=0;C<h.length;C++)k=l.g=h[C],T=Pc(k,g,!1,l)&&T}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],g=0;g<h.length;g++)kc(h[g]);delete a.g[l],a.h--}}this.F=null},tt.prototype.K=function(a,l,h,g){return this.i.add(String(a),l,!1,h,g)},tt.prototype.L=function(a,l,h,g){return this.i.add(String(a),l,!0,h,g)};function Pc(a,l,h,g){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,C=0;C<l.length;++C){var k=l[C];if(k&&!k.da&&k.capture==h){var _e=k.listener,Ye=k.ha||k.src;k.fa&&Rh(a.i,k),T=_e.call(Ye,g)!==!1&&T}}return T&&!g.defaultPrevented}function S_(a,l,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function A_(a){a.g=S_(()=>{a.g=null,a.i&&(a.i=!1,A_(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class lA extends Qn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:A_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(a){Qn.call(this),this.h=a,this.g={}}S(hs,Qn);var R_=[];function N_(a){fe(a.g,function(l,h){this.g.hasOwnProperty(h)&&xh(l)},a),a.g={}}hs.prototype.N=function(){hs.aa.N.call(this),N_(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lh=c.JSON.stringify,dA=c.JSON.parse,hA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Vh(){}Vh.prototype.h=null;function M_(a){return a.h||(a.h=a.i())}function k_(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){et.call(this,"d")}S(jh,et);function Bh(){et.call(this,"c")}S(Bh,et);var Rr={},x_=null;function Oc(){return x_=x_||new tt}Rr.La="serverreachability";function P_(a){et.call(this,Rr.La,a)}S(P_,et);function ps(a){let l=Oc();ct(l,new P_(l))}Rr.STAT_EVENT="statevent";function O_(a,l){et.call(this,Rr.STAT_EVENT,a),this.stat=l}S(O_,et);function ut(a){let l=Oc();ct(l,new O_(l,a))}Rr.Ma="timingevent";function F_(a,l){et.call(this,Rr.Ma,a),this.size=l}S(F_,et);function gs(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function fA(a,l,h,g,T,C){a.info(function(){if(a.g)if(C)for(var k="",_e=C.split("&"),Ye=0;Ye<_e.length;Ye++){var ce=_e[Ye].split("=");if(1<ce.length){var nt=ce[0];ce=ce[1];var rt=nt.split("_");k=2<=rt.length&&rt[1]=="type"?k+(nt+"="+ce+"&"):k+(nt+"=redacted&")}}else k=null;else k=C;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+l+`
`+h+`
`+k})}function pA(a,l,h,g,T,C,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+l+`
`+h+`
`+C+" "+k})}function Si(a,l,h,g){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+mA(a,h)+(g?" "+g:"")})}function gA(a,l){a.info(function(){return"TIMEOUT: "+l})}ms.prototype.info=function(){};function mA(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var C=T[0];if(C!="noop"&&C!="stop"&&C!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return Lh(h)}catch{return l}}var Fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uh;function Lc(){}S(Lc,Vh),Lc.prototype.g=function(){return new XMLHttpRequest},Lc.prototype.i=function(){return{}},Uh=new Lc;function Yn(a,l,h,g){this.j=a,this.i=l,this.l=h,this.R=g||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V_}function V_(){this.i=null,this.g="",this.h=!1}var j_={},$h={};function Hh(a,l,h){a.L=1,a.v=Uc(bn(l)),a.m=h,a.P=!0,B_(a,null)}function B_(a,l){a.F=Date.now(),Vc(a),a.A=bn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),eE(h.i,"t",g),a.C=0,h=a.j.J,a.h=new V_,a.g=vE(a.j,h?l:null,!a.m),0<a.O&&(a.M=new lA(m(a.Y,a,a.g),a.O)),l=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(R_[0]=T.toString()),T=R_);for(var C=0;C<T.length;C++){var k=I_(h,T[C],g||l.handleEvent,!1,l.h||l);if(!k)break;l.g[k.key]=k}l=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),ps(),fA(a.i,a.u,a.A,a.l,a.R,a.m)}Yn.prototype.ca=function(a){a=a.target;let l=this.M;l&&Cn(a)==3?l.j():this.Y(a)},Yn.prototype.Y=function(a){try{if(a==this.g)e:{let rt=Cn(this.g);var l=this.g.Ba();let Ni=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||aE(this.g)))){this.J||rt!=4||l==7||(l==8||0>=Ni?ps(3):ps(2)),zh(this);var h=this.g.Z();this.X=h;t:if(U_(this)){var g=aE(this.g);a="";var T=g.length,C=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),ys(this);var k="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,a+=this.h.i.decode(g[l],{stream:!(C&&l==T-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,pA(this.i,this.u,this.A,this.l,this.R,rt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ye=this.g;if((_e=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(_e)){var ce=_e;break t}}ce=null}if(h=ce)Si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,h);else{this.o=!1,this.s=3,ut(12),Nr(this),ys(this);break e}}if(this.P){h=!0;let $t;for(;!this.J&&this.C<k.length;)if($t=yA(this,k),$t==$h){rt==4&&(this.s=4,ut(14),h=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if($t==j_){this.s=4,ut(15),Si(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Si(this.i,this.l,$t,null),qh(this,$t);if(U_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||k.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)Si(this.i,this.l,k,"[Invalid Chunked Response]"),Nr(this),ys(this);else if(0<k.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Zh(nt),nt.M=!0,ut(11))}}else Si(this.i,this.l,k,null),qh(this,k);rt==4&&Nr(this),this.o&&!this.J&&(rt==4?pE(this.j,this):(this.o=!1,Vc(this)))}else PA(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Nr(this),ys(this)}}}catch{}finally{}};function U_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yA(a,l){var h=a.C,g=l.indexOf(`
`,h);return g==-1?$h:(h=Number(l.substring(h,g)),isNaN(h)?j_:(g+=1,g+h>l.length?$h:(l=l.slice(g,g+h),a.C=g+h,l)))}Yn.prototype.cancel=function(){this.J=!0,Nr(this)};function Vc(a){a.S=Date.now()+a.I,$_(a,a.I)}function $_(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=gs(m(a.ba,a),l)}function zh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Yn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(gA(this.i,this.A),this.L!=2&&(ps(),ut(17)),Nr(this),this.s=2,ys(this)):$_(this,this.S-a)};function ys(a){a.j.G==0||a.J||pE(a.j,a)}function Nr(a){zh(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,N_(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function qh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||Wh(h.h,a))){if(!a.K&&Wh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(l)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Wc(h),zc(h);else break e;Yh(h),ut(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=gs(m(h.Za,h),6e3));if(1>=q_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else kr(h,11)}else if((a.K||h.g==a)&&Wc(h),!Z(l))for(T=h.Da.g.parse(l),l=0;l<T.length;l++){let ce=T[l];if(h.T=ce[0],ce=ce[1],h.G==2)if(ce[0]=="c"){h.K=ce[1],h.ia=ce[2];let nt=ce[3];nt!=null&&(h.la=nt,h.j.info("VER="+h.la));let rt=ce[4];rt!=null&&(h.Aa=rt,h.j.info("SVER="+h.Aa));let Ni=ce[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(g=1.5*Ni,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let $t=a.g;if($t){let Kc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var C=g.h;C.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Gh(C,C.h),C.h=null))}if(g.D){let Jh=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(g.ya=Jh,Ie(g.I,g.D,Jh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=yE(g,g.J?g.ia:null,g.W),k.K){W_(g.h,k);var _e=k,Ye=g.L;Ye&&(_e.I=Ye),_e.B&&(zh(_e),Vc(_e)),g.g=k}else hE(g);0<h.i.length&&qc(h)}else ce[0]!="stop"&&ce[0]!="close"||kr(h,7);else h.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?kr(h,7):Qh(h):ce[0]!="noop"&&h.l&&h.l.ta(ce),h.v=0)}}ps(4)}catch{}}var vA=class{constructor(a,l){this.g=a,this.map=l}};function H_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function z_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function q_(a){return a.h?1:a.g?a.g.size:0}function Wh(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Gh(a,l){a.g?a.g.add(l):a.h=l}function W_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}H_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function G_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return R(a.i)}function _A(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,g=0;g<h;g++)l.push(a[g]);return l}l=[],h=0;for(g in a)l[h++]=a[g];return l}function EA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let g in a)l[h++]=g;return l}}}function K_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=EA(a),g=_A(a),T=g.length,C=0;C<T;C++)l.call(void 0,g[C],h&&h[C],a)}var Q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wA(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var C=a[h].substring(0,g);T=a[h].substring(g+1)}else C=a[h];l(C,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Mr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Mr){this.h=a.h,jc(this,a.j),this.o=a.o,this.g=a.g,Bc(this,a.s),this.l=a.l;var l=a.i,h=new Es;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Y_(this,h),this.m=a.m}else a&&(l=String(a).match(Q_))?(this.h=!1,jc(this,l[1]||"",!0),this.o=vs(l[2]||""),this.g=vs(l[3]||"",!0),Bc(this,l[4]),this.l=vs(l[5]||"",!0),Y_(this,l[6]||"",!0),this.m=vs(l[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Mr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(_s(l,Z_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(_s(l,Z_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(_s(h,h.charAt(0)=="/"?TA:DA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",_s(h,CA)),a.join("")};function bn(a){return new Mr(a)}function jc(a,l,h){a.j=h?vs(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Bc(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Y_(a,l,h){l instanceof Es?(a.i=l,SA(a.i,a.h)):(h||(l=_s(l,bA)),a.i=new Es(l,a.h))}function Ie(a,l,h){a.i.set(l,h)}function Uc(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function vs(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function _s(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,IA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function IA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Z_=/[#\/\?@]/g,DA=/[#\?:]/g,TA=/[#\?]/g,bA=/[#\?@]/g,CA=/#/g;function Es(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Zn(a){a.g||(a.g=new Map,a.h=0,a.i&&wA(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}n=Es.prototype,n.add=function(a,l){Zn(this),this.i=null,a=Ai(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function J_(a,l){Zn(a),l=Ai(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function X_(a,l){return Zn(a),l=Ai(a,l),a.g.has(l)}n.forEach=function(a,l){Zn(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(l,T,g,this)},this)},this)},n.na=function(){Zn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let g=0;g<l.length;g++){let T=a[g];for(let C=0;C<T.length;C++)h.push(l[g])}return h},n.V=function(a){Zn(this);let l=[];if(typeof a=="string")X_(this,a)&&(l=l.concat(this.g.get(Ai(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},n.set=function(a,l){return Zn(this),this.i=null,a=Ai(this,a),X_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},n.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function eE(a,l,h){J_(a,l),0<h.length&&(a.i=null,a.g.set(Ai(a,l),R(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var g=l[h];let C=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=C;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),a.push(T)}}return this.i=a.join("&")};function Ai(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function SA(a,l){l&&!a.j&&(Zn(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(J_(this,g),eE(this,T,h))},a)),a.j=l}function AA(a,l){let h=new ms;if(c.Image){let g=new Image;g.onload=v(Jn,h,"TestLoadImage: loaded",!0,l,g),g.onerror=v(Jn,h,"TestLoadImage: error",!1,l,g),g.onabort=v(Jn,h,"TestLoadImage: abort",!1,l,g),g.ontimeout=v(Jn,h,"TestLoadImage: timeout",!1,l,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else l(!1)}function RA(a,l){let h=new ms,g=new AbortController,T=setTimeout(()=>{g.abort(),Jn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:g.signal}).then(C=>{clearTimeout(T),C.ok?Jn(h,"TestPingServer: ok",!0,l):Jn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),Jn(h,"TestPingServer: error",!1,l)})}function Jn(a,l,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function NA(){this.g=new hA}function MA(a,l,h){let g=h||"";try{K_(a,function(T,C){let k=T;d(T)&&(k=Lh(T)),l.push(g+C+"="+encodeURIComponent(k))})}catch(T){throw l.push(g+"type="+encodeURIComponent("_badmap")),T}}function ws(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ws,Vh),ws.prototype.g=function(){return new $c(this.l,this.j)},ws.prototype.i=(function(a){return function(){return a}})({});function $c(a,l){tt.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S($c,tt),n=$c.prototype,n.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Ds(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function tE(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Is(this):Ds(this),this.readyState==3&&tE(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Is(this))},n.Qa=function(a){this.g&&(this.response=a,Is(this))},n.ga=function(){this.g&&Is(this)};function Is(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ds(a)}n.setRequestHeader=function(a,l){this.u.append(a,l)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Ds(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function nE(a){let l="";return fe(a,function(h,g){l+=g,l+=":",l+=h,l+=`\r
`}),l}function Kh(a,l,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=nE(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,l,h))}function be(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(be,tt);var kA=/^https?$/i,xA=["POST","PUT"];n=be.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,l,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uh.g(),this.v=this.o?M_(this.o):M_(Uh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(C){rE(this,C);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let C of g.keys())h.set(C,g.get(C));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xA,l,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,k]of h)this.g.setRequestHeader(C,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sE(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){rE(this,C)}};function rE(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,iE(a),Hc(a)}function iE(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Hc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oE(this):this.bb())},n.bb=function(){oE(this)};function oE(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Cn(a)!=4||a.Z()!=2)){if(a.u&&Cn(a)==4)S_(a.Ea,0,a);else if(ct(a,"readystatechange"),Cn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var g;if(g=k===0){var T=String(a.D).match(Q_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!kA.test(T?T.toLowerCase():"")}h=g}if(h)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var C=2<Cn(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",iE(a)}}finally{Hc(a)}}}}function Hc(a,l){if(a.g){sE(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||ct(a,"ready");try{h.onreadystatechange=g}catch{}}}function sE(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Cn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),dA(l)}};function aE(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function PA(a){let l={};a=(a.g&&2<=Cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(Z(a[g]))continue;var h=D(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=l[T]||[];l[T]=C,C.push(h)}I(l,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function cE(a){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,a),this.cb=Ts("retryDelaySeedMs",1e4,a),this.Wa=Ts("forwardChannelMaxRetries",2,a),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new H_(a&&a.concurrentRequestLimit),this.Da=new NA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=cE.prototype,n.la=8,n.G=1,n.connect=function(a,l,h,g){ut(0),this.W=a,this.H=l||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=yE(this,null,this.W),qc(this)};function Qh(a){if(uE(a),a.G==3){var l=a.U++,h=bn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",l),Ie(h,"TYPE","terminate"),bs(a,h),l=new Yn(a,a.j,l),l.L=2,l.v=Uc(bn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=vE(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Vc(l)}mE(a)}function zc(a){a.g&&(Zh(a),a.g.cancel(),a.g=null)}function uE(a){zc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Wc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function qc(a){if(!z_(a.h)&&!a.s){a.s=!0;var l=a.Ga;cs||w_(),us||(cs(),us=!0),Ah.add(l,a),a.B=0}}function OA(a,l){return q_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=gs(m(a.Ga,a,l),gE(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Yn(this,this.j,a),C=this.o;if(this.S&&(C?(C=y(C),w(C,this.S)):C=this.S),this.m!==null||this.O||(T.H=C,C=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(l+=g,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=dE(this,T,l),h=bn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),bs(this,h),C&&(this.O?l="headers="+encodeURIComponent(String(nE(C)))+"&"+l:this.m&&Kh(h,this.m,C)),Gh(this.h,T),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",l),Ie(h,"SID","null"),T.T=!0,Hh(T,h,null)):Hh(T,h,l),this.G=2}}else this.G==3&&(a?lE(this,a):this.i.length==0||z_(this.h)||lE(this))};function lE(a,l){var h;l?h=l.l:h=a.U++;let g=bn(a.I);Ie(g,"SID",a.K),Ie(g,"RID",h),Ie(g,"AID",a.T),bs(a,g),a.m&&a.o&&Kh(g,a.m,a.o),h=new Yn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=dE(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Gh(a.h,h),Hh(h,g,l)}function bs(a,l){a.H&&fe(a.H,function(h,g){Ie(l,g,h)}),a.l&&K_({},function(h,g){Ie(l,g,h)})}function dE(a,l,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var T=a.i;let C=-1;for(;;){let k=["count="+h];C==-1?0<h?(C=T[0].g,k.push("ofs="+C)):C=0:k.push("ofs="+C);let _e=!0;for(let Ye=0;Ye<h;Ye++){let ce=T[Ye].g,nt=T[Ye].map;if(ce-=C,0>ce)C=Math.max(0,T[Ye].g-100),_e=!1;else try{MA(nt,k,"req"+ce+"_")}catch{g&&g(nt)}}if(_e){g=k.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,g}function hE(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;cs||w_(),us||(cs(),us=!0),Ah.add(l,a),a.v=0}}function Yh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=gs(m(a.Fa,a),gE(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,fE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=gs(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),zc(this),fE(this))};function Zh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function fE(a){a.g=new Yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=bn(a.qa);Ie(l,"RID","rpc"),Ie(l,"SID",a.K),Ie(l,"AID",a.T),Ie(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(l,"TO",a.ja),Ie(l,"TYPE","xmlhttp"),bs(a,l),a.m&&a.o&&Kh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Uc(bn(l)),h.m=null,h.P=!0,B_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,zc(this),Yh(this),ut(19))};function Wc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function pE(a,l){var h=null;if(a.g==l){Wc(a),Zh(a),a.g=null;var g=2}else if(Wh(a.h,l))h=l.D,W_(a.h,l),g=1;else return;if(a.G!=0){if(l.o)if(g==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var T=a.B;g=Oc(),ct(g,new F_(g,h)),qc(a)}else hE(a);else if(T=l.s,T==3||T==0&&0<l.X||!(g==1&&OA(a,l)||g==2&&Yh(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),T){case 1:kr(a,5);break;case 4:kr(a,10);break;case 3:kr(a,6);break;default:kr(a,2)}}}function gE(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function kr(a,l){if(a.j.info("Error code "+l),l==2){var h=m(a.fb,a),g=a.Xa;let T=!g;g=new Mr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jc(g,"https"),Uc(g),T?AA(g.toString(),h):RA(g.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(l),mE(a),uE(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function mE(a){if(a.G=0,a.ka=[],a.l){let l=G_(a.h);(l.length!=0||a.i.length!=0)&&(N(a.ka,l),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function yE(a,l,h){var g=h instanceof Mr?bn(h):new Mr(h);if(g.g!="")l&&(g.g=l+"."+g.g),Bc(g,g.s);else{var T=c.location;g=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var C=new Mr(null);g&&jc(C,g),l&&(C.g=l),T&&Bc(C,T),h&&(C.l=h),g=C}return h=a.D,l=a.ya,h&&l&&Ie(g,h,l),Ie(g,"VER",a.la),bs(a,g),g}function vE(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new be(new ws({eb:h})):new be(a.pa),l.Ha(a.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _E(){}n=_E.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gc(){}Gc.prototype.g=function(a,l){return new Tt(a,l)};function Tt(a,l){tt.call(this),this.g=new cE(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!Z(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!Z(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Ri(this)}S(Tt,tt),Tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tt.prototype.close=function(){Qh(this.g)},Tt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Lh(a),a=h);l.i.push(new vA(l.Ya++,a)),l.G==3&&qc(l)},Tt.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,Tt.aa.N.call(this)};function EE(a){jh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}S(EE,jh);function wE(){Bh.call(this),this.status=1}S(wE,Bh);function Ri(a){this.g=a}S(Ri,_E),Ri.prototype.ua=function(){ct(this.g,"a")},Ri.prototype.ta=function(a){ct(this.g,new EE(a))},Ri.prototype.sa=function(a){ct(this.g,new wE)},Ri.prototype.ra=function(){ct(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,Tt.prototype.send=Tt.prototype.o,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,Dy=Hn.createWebChannelTransport=function(){return new Gc},Iy=Hn.getStatEventTarget=function(){return Oc()},wy=Hn.Event=Rr,Ld=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,ac=Hn.ErrorCode=Fc,L_.COMPLETE="complete",Ey=Hn.EventType=L_,k_.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ko=Hn.WebChannel=k_,aV=Hn.FetchXmlHttpFactory=ws,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,_y=Hn.XhrIo=be}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});var UC="@firebase/firestore",$C="4.8.0";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var is="11.10.0";var Ti=new yn("@firebase/firestore");function xo(){return Ti.logLevel}function P(n,...e){if(Ti.logLevel<=ne.DEBUG){let t=e.map(r_);Ti.debug(`Firestore (${is}): ${n}`,...t)}}function qn(n,...e){if(Ti.logLevel<=ne.ERROR){let t=e.map(r_);Ti.error(`Firestore (${is}): ${n}`,...t)}}function br(n,...e){if(Ti.logLevel<=ne.WARN){let t=e.map(r_);Ti.warn(`Firestore (${is}): ${n}`,...t)}}function r_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,xS(n,r,t)}function xS(n,e,t){let r=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qn(r),new Error(r)}function Te(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||xS(e,i,r)}function se(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Bt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var zd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ry=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ke.UNAUTHENTICATED))}shutdown(){}},Ny=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},My=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new zd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}},ky=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},xy=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ky(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Py=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,P("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function cV(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function PS(){return new TextEncoder}var Wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=cV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function te(n,e){return n<e?-1:n>e?1:0}function Oy(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return te(r,i);{let o=PS(),s=uV(o.encode(HC(n,t)),o.encode(HC(e,t)));return s!==0?s:te(r,i)}}t+=r>65535?2:1}return te(n.length,e.length)}function HC(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uV(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return te(n[t],e[t]);return te(n.length,e.length)}function Wo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var zC="__name__",Gd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return te(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Oy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $n.fromString(e.substring(4,e.length-2))}},Ne=class n extends Gd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},lV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nn=class n extends Gd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return lV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zC}static keyField(){return new n([zC])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var U=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ne.fromString(e))}static fromName(e){return new n(Ne.fromString(e).popFirst(5))}static empty(){return new n(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ne(e.slice()))}};function dV(n,e,t){if(!t)throw new V(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hV(n,e,t,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qC(n){if(U.isDocumentKey(n))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fV(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pV(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function Ud(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=pV(n);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Le(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ac(n,e){if(!fV(n))throw new V(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(x.INVALID_ARGUMENT,t);return!0}var WC=-62135596800,GC=1e6,gt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*GC);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WC)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GC}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-WC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Le("string",gt._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};var Q=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new gt(0,0))}static max(){return new n(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pc=-1,Fy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Fy.UNKNOWN_ID=-1;function gV(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new bi(i,U.empty(),e)}function mV(n){return new bi(n.readTime,n.key,pc)}var bi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Q.min(),U.empty(),pc)}static max(){return new n(Q.max(),U.empty(),pc)}};function yV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=U.comparator(n.documentKey,e.documentKey),t!==0?t:te(n.largestBatchId,e.largestBatchId))}var vV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ly=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Eh(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==vV)throw n;P("LocalStore","Unexpectedly lost primary lease")}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(f=>{s[d]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function _V(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function os(n){return n.name==="IndexedDbTransactionError"}var i_=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),EV=-1;function wh(n){return n==null}function Kd(n){return n===0&&1/n==-1/0}var OS="";function wV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KC(e)),e=IV(n.get(t),e);return KC(e)}function IV(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case OS:t+="";break;default:t+=o}}return t}function KC(n){return n+OS+""}var DV="remoteDocuments",FS="owner";var LS="mutationQueues";var VS="mutations";var jS="documentMutations",TV="remoteDocumentsV14";var BS="remoteDocumentGlobal";var US="targets";var $S="targetDocuments";var HS="targetGlobal",zS="collectionParents";var qS="clientMetadata";var WS="bundles";var GS="namedQueries";var bV="indexConfiguration";var CV="indexState";var SV="indexEntries";var KS="documentOverlays";var AV="globals";var RV=[LS,VS,jS,DV,US,FS,HS,$S,qS,BS,zS,WS,GS],see=[...RV,KS],NV=[LS,VS,jS,TV,US,FS,HS,$S,qS,BS,zS,WS,GS,KS],MV=NV,kV=[...MV,bV,CV,SV];var aee=[...kV,AV];function QC(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xV(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Me=class n{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}},Lo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class n{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Qd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _i=class n{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qe(nn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Yd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yd("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var PV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(n){if(Te(!!n,39018),typeof n=="string"){let e=0,t=PV.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(n.seconds),nanos:De(n.nanos)}}function De(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gn(n){return typeof n=="string"?st.fromBase64String(n):st.fromUint8Array(n)}var QS="server_timestamp",YS="__type__",ZS="__previous_value__",JS="__local_write_time__";function o_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[YS])===null||t===void 0?void 0:t.stringValue)===QS}function Ih(n){let e=n.mapValue.fields[ZS];return o_(e)?Ih(e):e}function gc(n){let e=Wn(n.mapValue.fields[JS].timestampValue);return new gt(e.seconds,e.nanos)}var Vy=class{constructor(e,t,r,i,o,s,c,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}},Zd="(default)",Jd=class n{constructor(e,t){this.projectId=e,this.database=t||Zd}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var XS="__type__",e0="__max__",Vd={mapValue:{fields:{__type__:{stringValue:e0}}}},t0="__vector__",mc="value";function Cr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?o_(n)?4:r0(n)?9007199254740991:n0(n)?10:11:z(28295,{value:n})}function In(n,e){if(n===e)return!0;let t=Cr(n);if(t!==Cr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gc(n).isEqual(gc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wn(i.timestampValue),c=Wn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Gn(i.bytesValue).isEqual(Gn(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=De(i.doubleValue),c=De(o.doubleValue);return s===c?Kd(s)===Kd(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(QC(s)!==QC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!In(s[u],c[u])))return!1;return!0})(n,e);default:return z(52216,{left:n})}}function yc(n,e){return(n.values||[]).find(t=>In(t,e))!==void 0}function Go(n,e){if(n===e)return 0;let t=Cr(n),r=Cr(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=De(o.integerValue||o.doubleValue),u=De(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return YC(n.timestampValue,e.timestampValue);case 4:return YC(gc(n),gc(e));case 5:return Oy(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=Gn(o),u=Gn(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=te(c[d],u[d]);if(f!==0)return f}return te(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=te(De(o.latitude),De(s.latitude));return c!==0?c:te(De(o.longitude),De(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ZC(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,d,f;let p=o.fields||{},m=s.fields||{},v=(c=p[mc])===null||c===void 0?void 0:c.arrayValue,S=(u=m[mc])===null||u===void 0?void 0:u.arrayValue,R=te(((d=v?.values)===null||d===void 0?void 0:d.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:ZC(v,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Vd.mapValue&&s===Vd.mapValue)return 0;if(o===Vd.mapValue)return 1;if(s===Vd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Oy(u[p],f[p]);if(m!==0)return m;let v=Go(c[u[p]],d[f[p]]);if(v!==0)return v}return te(u.length,f.length)})(n.mapValue,e.mapValue);default:throw z(23264,{le:t})}}function YC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return te(n,e);let t=Wn(n),r=Wn(e),i=te(t.seconds,r.seconds);return i!==0?i:te(t.nanos,r.nanos)}function ZC(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Go(t[i],r[i]);if(o)return o}return te(t.length,r.length)}function Ko(n){return jy(n)}function jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Wn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Gn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return U.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=jy(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${jy(t.fields[s])}`;return i+"}"})(n.mapValue):z(61005,{value:n})}function $d(n){switch(Cr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ih(n);return e?16+$d(e):16;case 5:return 2*n.stringValue.length;case 6:return Gn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+$d(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Rc(r.fields,(o,s)=>{i+=o.length+$d(s)}),i})(n.mapValue);default:throw z(13486,{value:n})}}function By(n){return!!n&&"integerValue"in n}function s_(n){return!!n&&"arrayValue"in n}function JC(n){return!!n&&"nullValue"in n}function XC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ty(n){return!!n&&"mapValue"in n}function n0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XS])===null||t===void 0?void 0:t.stringValue)===t0}function uc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function r0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===e0}var uee={mapValue:{fields:{[XS]:{stringValue:t0},[mc]:{arrayValue:{}}}}};var zn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ty(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(t)}setAll(e){let t=nn.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=uc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ty(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ty(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(uc(this.value))}};var rn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Q.min(),Q.min(),Q.min(),zn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Q.min(),Q.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Q.min(),Q.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qo=class{constructor(e,t){this.position=e,this.inclusive=t}};function eS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),t.key):r=Go(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!In(n.position[t],e.position[t]))return!1;return!0}var Yo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function OV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Xd=class{},He=class n extends Xd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $y(e,t,r):t==="array-contains"?new qy(e,r):t==="in"?new Wy(e,r):t==="not-in"?new Gy(e,r):t==="array-contains-any"?new Ky(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Hy(e,r):new zy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Go(t,this.value)):t!==null&&Cr(this.value)===Cr(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dn=class n extends Xd{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return i0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function i0(n){return n.op==="and"}function o0(n){return FV(n)&&i0(n)}function FV(n){for(let e of n.filters)if(e instanceof Dn)return!1;return!0}function Uy(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(o0(n))return n.filters.map(e=>Uy(e)).join(",");{let e=n.filters.map(t=>Uy(t)).join(",");return`${n.op}(${e})`}}function s0(n,e){return n instanceof He?(function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)})(n,e):n instanceof Dn?(function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&s0(s,i.filters[c]),!0):!1})(n,e):void z(19439)}function a0(n){return n instanceof He?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`})(n):n instanceof Dn?(function(t){return t.op.toString()+" {"+t.getFilters().map(a0).join(" ,")+"}"})(n):"Filter"}var $y=class extends He{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){let t=U.comparator(e.key,this.key);return this.matchesComparison(t)}},Hy=class extends He{constructor(e,t){super(e,"in",t),this.keys=c0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},zy=class extends He{constructor(e,t){super(e,"not-in",t),this.keys=c0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function c0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>U.fromName(r.referenceValue))}var qy=class extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return s_(t)&&yc(t.arrayValue,this.value)}},Wy=class extends He{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}},Gy=class extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yc(this.value.arrayValue,t)}},Ky=class extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!s_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}};var Qy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function nS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Qy(n,e,t,r,i,o,s)}function a_(n){let e=se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Uy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ko(r)).join(",")),e.Pe=t}return e.Pe}function c_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!s0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tS(n.startAt,e.startAt)&&tS(n.endAt,e.endAt)}function Yy(n){return U.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function LV(n,e,t,r,i,o,s,c){return new Zo(n,e,t,r,i,o,s,c)}function u_(n){return new Zo(n)}function rS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VV(n){return n.collectionGroup!==null}function lc(n){let e=se(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Qe(nn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Yo(o,r))}),t.has(nn.keyField().canonicalString())||e.Te.push(new Yo(nn.keyField(),r))}return e.Te}function En(n){let e=se(n);return e.Ie||(e.Ie=jV(e,lc(n))),e.Ie}function jV(n,e){if(n.limitType==="F")return nS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yo(i.field,o)});let t=n.endAt?new Qo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qo(n.startAt.position,n.startAt.inclusive):null;return nS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Zy(n,e,t){return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dh(n,e){return c_(En(n),En(e))&&n.limitType===e.limitType}function u0(n){return`${a_(En(n))}|lt:${n.limitType}`}function Po(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>a0(i)).join(", ")}]`),wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ko(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ko(i)).join(",")),`Target(${r})`})(En(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let d=eS(s,c,u);return s.inclusive?d<=0:d<0})(r.startAt,lc(r),i)||r.endAt&&!(function(s,c,u){let d=eS(s,c,u);return s.inclusive?d>=0:d>0})(r.endAt,lc(r),i))})(n,e)}function BV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l0(n){return(e,t)=>{let r=!1;for(let i of lc(n)){let o=UV(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function UV(n,e,t){let r=n.field.isKeyField()?U.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?Go(u,d):z(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var Kn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return xV(this.inner)}size(){return this.innerSize}};var $V=new Me(U.comparator);function Sr(){return $V}var d0=new Me(U.comparator);function cc(...n){let e=d0;for(let t of n)e=e.insert(t.key,t);return e}function HV(n){let e=d0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ei(){return dc()}function h0(){return dc()}function dc(){return new Kn(n=>n.toString(),(n,e)=>n.isEqual(e))}var lee=new Me(U.comparator),zV=new Qe(U.comparator);function ae(...n){let e=zV;for(let t of n)e=e.add(t);return e}var qV=new Qe(te);function WV(){return qV}function GV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function KV(n){return{integerValue:""+n}}var Jo=class{constructor(){this._=void 0}};function QV(n,e,t){return n instanceof vc?(function(i,o){let s={fields:{[YS]:{stringValue:QS},[JS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&o_(o)&&(o=Ih(o)),o&&(s.fields[ZS]=o),{mapValue:s}})(t,e):n instanceof Xo?f0(n,e):n instanceof es?p0(n,e):(function(i,o){let s=ZV(i,o),c=iS(s)+iS(i.Ee);return By(s)&&By(i.Ee)?KV(c):GV(i.serializer,c)})(n,e)}function YV(n,e,t){return n instanceof Xo?f0(n,e):n instanceof es?p0(n,e):t}function ZV(n,e){return n instanceof _c?(function(r){return By(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var vc=class extends Jo{},Xo=class extends Jo{constructor(e){super(),this.elements=e}};function f0(n,e){let t=g0(e);for(let r of n.elements)t.some(i=>In(i,r))||t.push(r);return{arrayValue:{values:t}}}var es=class extends Jo{constructor(e){super(),this.elements=e}};function p0(n,e){let t=g0(e);for(let r of n.elements)t=t.filter(i=>!In(i,r));return{arrayValue:{values:t}}}var _c=class extends Jo{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function iS(n){return De(n.integerValue||n.doubleValue)}function g0(n){return s_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JV(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Xo&&i instanceof Xo||r instanceof es&&i instanceof es?Wo(r.elements,i.elements,In):r instanceof _c&&i instanceof _c?In(r.Ee,i.Ee):r instanceof vc&&i instanceof vc})(n.transform,e.transform)}var hc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ec=class{};function m0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,hc.none()):new wc(n.key,n.data,hc.none());{let t=n.data,r=zn.empty(),i=new Qe(nn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ts(n.key,r,new _i(i.toArray()),hc.none())}}function XV(n,e,t){n instanceof wc?(function(i,o,s){let c=i.value.clone(),u=sS(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof ts?(function(i,o,s){if(!Hd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=sS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(y0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function fc(n,e,t,r){return n instanceof wc?(function(o,s,c,u){if(!Hd(o.precondition,s))return c;let d=o.value.clone(),f=aS(o.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof ts?(function(o,s,c,u){if(!Hd(o.precondition,s))return c;let d=aS(o.fieldTransforms,u,s),f=s.data;return f.setAll(y0(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Hd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function oS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(o,s)=>JV(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var wc=class extends Ec{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ts=class extends Ec{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function y0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function sS(n,e,t){let r=new Map;Te(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,YV(s,c,t[i]))}return r}function aS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,QV(o,s,e))}return r}var Jy=class extends Ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Xy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&XV(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=fc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=fc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=h0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=m0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ae())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(t,r)=>oS(t,r))&&Wo(this.baseMutations,e.baseMutations,(t,r)=>oS(t,r))}};var ev=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,oe;function v0(n){if(n===void 0)return qn("GRPC error has no .code"),x.UNKNOWN;switch(n){case Oe.OK:return x.OK;case Oe.CANCELLED:return x.CANCELLED;case Oe.UNKNOWN:return x.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return x.INTERNAL;case Oe.UNAVAILABLE:return x.UNAVAILABLE;case Oe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Oe.NOT_FOUND:return x.NOT_FOUND;case Oe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Oe.ABORTED:return x.ABORTED;case Oe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Oe.DATA_LOSS:return x.DATA_LOSS;default:return z(39323,{code:n})}}(oe=Oe||(Oe={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var cS=null;var e2=new $n([4294967295,4294967295],0);function uS(n){let e=PS().encode(n),t=new vy;return t.update(e),new Uint8Array(t.digest())}function lS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $n([t,r],0),new $n([i,o],0)]}var nv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wi(`Invalid padding: ${t}`);if(r<0)throw new wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=$n.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply($n.fromNumber(r)));return i.compare(e2)===1&&(i=new $n([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=uS(e),[r,i]=lS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=uS(e),[r,i]=lS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Q.min(),i,new Me(te),Sr(),ae())}},Ic=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ae(),ae(),ae())}};var Vo=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},th=class{constructor(e,t){this.targetId=e,this.De=t}},nh=class{constructor(e,t,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},rh=class{constructor(){this.ve=0,this.Ce=dS(),this.Fe=st.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ae(),t=ae(),r=ae();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new Ic(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=dS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},rv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Sr(),this.je=jd(),this.Je=jd(),this.He=new Me(te)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Yy(o))if(r===0){let s=new U(o.path);this.Xe(t,s,rn.newNoDocument(s,Q.min()))}else Te(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}cS?.ct((function(f,p,m,v,S){var R,N,F,Z,Y,ve;let at={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},fe=p.unchangedNames;return fe&&(at.bloomFilter={applied:S===0,hashCount:(R=fe?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(Z=(F=(N=fe?.bits)===null||N===void 0?void 0:N.bitmap)===null||F===void 0?void 0:F.length)!==null&&Z!==void 0?Z:0,padding:(ve=(Y=fe?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&ve!==void 0?ve:0,mightContain:I=>{var y;return(y=v?.mightContain(I))!==null&&y!==void 0&&y}}),at})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=Gn(r).toUint8Array()}catch(u){if(u instanceof Yd)return br("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new nv(s,i,o)}catch(u){return br(u instanceof wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&Yy(c.target)){let u=new U(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,rn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ae();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let d=this.st(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new eh(e,t,this.He,this.ze,r);return this.ze=Sr(),this.je=jd(),this.Je=jd(),this.He=new Me(te),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new rh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Qe(te),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Qe(te),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||P("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new rh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function jd(){return new Me(U.comparator)}function dS(){return new Me(U.comparator)}var t2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r2={and:"AND",or:"OR"},iv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ov(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function i2(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jo(n){return Te(!!n,49232),Q.fromTimestamp((function(t){let r=Wn(t);return new gt(r.seconds,r.nanos)})(n))}function s2(n,e){return sv(n,e).canonicalString()}function sv(n,e){let t=(function(i){return new Ne(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function _0(n){let e=Ne.fromString(n);return Te(T0(e),10190,{key:e.toString()}),e}function by(n,e){let t=_0(e);if(t.get(1)!==n.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(w0(t))}function E0(n,e){return s2(n.databaseId,e)}function a2(n){let e=_0(n);return e.length===4?Ne.emptyPath():w0(e)}function hS(n){return new Ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w0(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function c2(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:z(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,f){return d.useProto3Json?(Te(f===void 0||typeof f=="string",58123),st.fromBase64String(f||"")):(Te(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),st.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(d){let f=d.code===void 0?x.UNKNOWN:v0(d.code);return new V(f,d.message||"")})(s);t=new nh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=by(n,r.document.name),o=jo(r.document.updateTime),s=r.document.createTime?jo(r.document.createTime):Q.min(),c=new zn({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,s,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new Vo(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=by(n,r.document),o=r.readTime?jo(r.readTime):Q.min(),s=rn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Vo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=by(n,r.document),o=r.removedTargetIds||[];t=new Vo([],o,i,null)}else{if(!("filter"in e))return z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tv(i,o),c=r.targetId;t=new th(c,s)}}return t}function u2(n,e){return{documents:[E0(n,e.path)]}}function l2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=E0(n,i);let o=(function(d){if(d.length!==0)return D0(Dn.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(d){if(d.length!==0)return d.map(f=>(function(m){return{field:Oo(m.field),direction:f2(m.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=ov(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:t,parent:i}}function d2(n){let e=a2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let m=I0(p);return m instanceof Dn&&o0(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Yo(Fo(S.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,wh(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new Qo(v,m)})(t.startAt));let d=null;return t.endAt&&(d=(function(p){let m=!p.before,v=p.values||[];return new Qo(v,m)})(t.endAt)),LV(e,i,s,o,c,"F",u,d)}function h2(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Fo(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Fo(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fo(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fo(t.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}})(n):n.fieldFilter!==void 0?(function(t){return He.create(Fo(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Dn.create(t.compositeFilter.filters.map(r=>I0(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}})(t.compositeFilter.op))})(n):z(30097,{filter:n})}function f2(n){return t2[n]}function p2(n){return n2[n]}function g2(n){return r2[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return nn.fromServerFormat(n.fieldPath)}function D0(n){return n instanceof He?(function(t){if(t.op==="=="){if(XC(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(JC(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XC(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(JC(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:p2(t.op),value:t.value}}})(n):n instanceof Dn?(function(t){let r=t.getFilters().map(i=>D0(i));return r.length===1?r[0]:{compositeFilter:{op:g2(t.op),filters:r}}})(n):z(54877,{filter:n})}function T0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Dc=class n{constructor(e,t,r,i,o=Q.min(),s=Q.min(),c=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var av=class{constructor(e){this.gt=e}};function m2(n){let e=d2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zy(e,e.limit,"L"):e}var ih=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Kd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Wn(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Gn(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?r0(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):n0(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):z(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=mc,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(De(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),U.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};ih.Ut=new ih;var cv=class{constructor(){this.Dn=new uv}addToCollectionParentIndex(e,t){return this.Dn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(bi.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},uv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(Ne.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Ne.comparator)).toArray()}};var dee=new Uint8Array(0);var fS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b0=41943040,Ut=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(b0,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);var Tc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var pS="LruGarbageCollector",y2=1048576;function gS([n,e],[t,r]){let i=te(n,t);return i===0?te(e,r):i}var lv=class{constructor(e){this.Tr=e,this.buffer=new Qe(gS),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();gS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},dv=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){P(pS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){os(t)?P(pS,"Ignoring IndexedDB error during garbage collection: ",t):await Eh(t)}await this.Rr(3e5)})}},hv=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(i_.ue);let r=new lv(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(fS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fS):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),xo()<=ne.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function v2(n,e){return new hv(n,e)}var fv=class{constructor(){this.changes=new Kn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var gv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fc(r.mutation,i,_i.empty(),gt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ae()){let i=Ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Sr(),s=dc(),c=(function(){return dc()})();return t.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof ts)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),fc(f.mutation,d,f.mutation.getFieldMask(),gt.now())):s.set(d.key,_i.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>{var p;return c.set(d,new pv(f,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=dc(),i=new Me((s,c)=>s-c),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let f=r.get(u)||_i.empty();f=c.applyToLocalView(d,f),r.set(u,f);let p=(i.get(c.batchId)||ae()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,p=h0();f.forEach(m=>{if(!o.has(m)){let v=m0(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(Ei()),c=pc,u=o;return s.next(d=>M.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,ae())).next(f=>({batchId:c,changes:HV(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cc();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let d=(function(p,m){return new Zo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,rn.newInvalidDocument(f)))});let c=cc();return s.forEach((u,d)=>{let f=o.get(u);f!==void 0&&fc(f.mutation,d,_i.empty(),gt.now()),Th(t,d)&&(c=c.insert(u,d))}),c})}};var mv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return M.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:jo(i.createTime)}})(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:m2(i.bundledQuery),readTime:jo(i.readTime)}})(t)),M.resolve()}};var yv=class{constructor(){this.overlays=new Me(U.comparator),this.kr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ei();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=Ei(),o=t.length+1,s=new U(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Me((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=Ei(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Ei(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return M.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ev(t,r));let o=this.kr.get(t);o===void 0&&(o=ae(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var vv=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var bc=class{constructor(){this.qr=new Qe(Fe.Qr),this.$r=new Qe(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Fe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Fe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new U(new Ne([])),r=new Fe(t,e),i=new Fe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new U(new Ne([])),r=new Fe(t,e),i=new Fe(t,e+1),o=ae();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Fe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return U.comparator(e.key,t.key)||te(e.Hr,t.Hr)}static Ur(e,t){return te(e.Hr,t.Hr)||U.comparator(e.key,t.key)}};var _v=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Qe(Fe.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Xy(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?EV:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(te);return t.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new U(o),0),c=new Qe(te);return this.Yr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Te(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(t.mutations,i=>{let o=new Fe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Fe(t,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Ev=class{constructor(e){this.ni=e,this.docs=(function(){return new Me(U.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Sr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Sr(),s=t.path,c=new U(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||yV(mV(f),r)<=0||(i.has(f.key)||Th(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}ri(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wv(this)}getSize(e){return M.resolve(this.size)}},wv=class extends fv{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Iv=class{constructor(e){this.persistence=e,this.ii=new Kn(t=>a_(t),c_),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.si=0,this.oi=new bc,this.targetCount=0,this._i=Tc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),M.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.hr(t),M.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.oi.containsKey(t))}};var oh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new i_(0),this.ci=!1,this.ci=!0,this.li=new vv,this.referenceDelegate=e(this),this.hi=new Iv(this),this.indexManager=new cv,this.remoteDocumentCache=(function(i){return new Ev(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new av(t),this.Ti=new mv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new _v(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){P("MemoryPersistence","Starting transaction:",e);let i=new Dv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Dv=class extends Ly{constructor(e){super(),this.currentSequenceNumber=e}},Tv=class n{constructor(e){this.persistence=e,this.Ai=new bc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw z(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),M.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=U.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Q.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return M.or([()=>M.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},sh=class n{constructor(e,t){this.persistence=e,this.gi=new Kn(r=>wV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=v2(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,Q.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$d(e.data.value)),t}Sr(e,t,r){return M.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var bv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ae(),i=ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Cv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return zb()?8:_V(xt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Cv;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(xo()<=ne.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(xo()<=ne.DEBUG&&P("QueryEngine","Query:",Po(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(xo()<=ne.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(t))):M.resolve())}ps(e,t){if(rS(t))return M.resolve(null);let r=En(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Zy(t,null,"F"),r=En(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ae(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.bs(t,c);return this.Ds(t,d,s,u.readTime)?this.ps(e,Zy(t,null,"F")):this.vs(e,d,t,u)}))})))}ys(e,t,r,i){return rS(t)||i.isEqual(Q.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?M.resolve(null):(xo()<=ne.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Po(t)),this.vs(e,s,t,gV(i,pc)).next(c=>c))})}bs(e,t){let r=new Qe(l0(e));return t.forEach((i,o)=>{Th(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return xo()<=ne.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Po(t)),this.gs.getDocumentsMatchingQuery(e,t,bi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var l_="LocalStore",_2=3e8,Av=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Me(te),this.Ms=new Kn(o=>a_(o),c_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function E2(n,e,t,r){return new Av(n,e,t,r)}async function C0(n,e){let t=se(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ae();for(let d of i){s.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:c}))})})}function S0(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function w2(n,e){let t=se(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(st.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(R,N,F){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=_2?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,v,f)&&c.push(t.hi.updateTargetData(o,v))});let u=Sr(),d=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(I2(o,s,e.documentUpdates).next(f=>{u=f.Ls,d=f.ks})),!r.isEqual(Q.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.Fs=i,o))}function I2(n,e,t){let r=ae(),i=ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Sr();return t.forEach((c,u)=>{let d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Q.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):P(l_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function D2(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Dc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Rv(n,e,t){let r=se(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!os(s))throw s;P(l_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function mS(n,e,t){let r=se(n),i=Q.min(),o=ae();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,d,f){let p=se(u),m=p.Ms.get(f);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(d,f)})(r,s,En(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Q.min(),t?o:ae())).next(c=>(T2(r,BV(e),c),{documents:c,qs:o})))}function T2(n,e,t){let r=n.xs.get(e)||Q.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var ah=class{constructor(){this.activeTargetIds=WV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Nv=class{constructor(){this.Fo=new ah,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ah,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Mv=class{xo(e){}shutdown(){}};var yS="ConnectivityMonitor",ch=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){P(yS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){P(yS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bd=null;function kv(){return Bd===null?Bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bd++,"0x"+Bd.toString(16)}var Cy="RestConnection",b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=kv(),c=this.Go(e,t.toUriEncodedString());P(Cy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:d}=new URL(c),f=ui(d);return this.jo(e,c,u,r,f).then(p=>(P(Cy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw br(Cy,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+is})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=b2[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Pv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ot="WebChannelConnection",Ov=class extends xv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=kv();return new Promise((c,u)=>{let d=new _y;d.setWithCredentials(!0),d.listenOnce(Ey.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ac.NO_ERROR:let p=d.getResponseJson();P(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case ac.TIMEOUT:P(ot,`RPC '${e}' ${s} timed out`),u(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:let m=d.getStatus();if(P(ot,`RPC '${e}' ${s} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);let S=v?.error;if(S&&S.status&&S.message){let R=(function(F){let Z=F.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(Z)>=0?Z:x.UNKNOWN})(S.status);u(new V(R,S.message))}else u(new V(x.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new V(x.UNAVAILABLE,"Connection failed."));break;default:z(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{P(ot,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);P(ot,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",f,r,15)})}P_(e,t,r){let i=kv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Dy(),c=Iy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");P(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,v=!1,S=new Pv({Ho:N=>{v?P(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(P(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),P(ot,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),R=(N,F,Z)=>{N.listen(F,Y=>{try{Z(Y)}catch(ve){setTimeout(()=>{throw ve},0)}})};return R(p,ko.EventType.OPEN,()=>{v||(P(ot,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),R(p,ko.EventType.CLOSE,()=>{v||(v=!0,P(ot,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),R(p,ko.EventType.ERROR,N=>{v||(v=!0,br(ot,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),S.__(new V(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,ko.EventType.MESSAGE,N=>{var F;if(!v){let Z=N.data[0];Te(!!Z,16349);let Y=Z,ve=Y?.error||((F=Y[0])===null||F===void 0?void 0:F.error);if(ve){P(ot,`RPC '${e}' stream ${i} received error:`,ve);let at=ve.status,fe=(function(E){let w=Oe[E];if(w!==void 0)return v0(w)})(at),I=ve.message;fe===void 0&&(fe=x.INTERNAL,I="Unknown error status: "+at+" with message "+ve.message),v=!0,S.__(new V(fe,I)),p.close()}else P(ot,`RPC '${e}' stream ${i} received:`,Z),S.a_(Z)}}),R(c,wy.STAT_EVENT,N=>{N.stat===Ld.PROXY?P(ot,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Ld.NOPROXY&&P(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Sy(){return typeof document<"u"?document:null}function A0(n){return new iv(n,!0)}var uh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var vS="PersistentStream",Fv=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new uh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return P(vS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(P(vS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Lv=class extends Fv{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=c2(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Q.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?jo(s.readTime):Q.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=hS(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=Yy(u)?{documents:u2(o,u)}:{query:l2(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=o2(o,s.resumeToken);let d=ov(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(Q.min())>0){c.readTime=i2(o,s.snapshotVersion.toTimestamp());let d=ov(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);let r=h2(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=hS(this.serializer),t.removeTarget=e,this.k_(t)}};var Vv=class{},jv=class extends Vv{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,sv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,sv(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(x.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Bv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qn(t),this._a=!1):P("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ns="RemoteStore",Uv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Mc(this)&&(P(ns,"Restarting streams for network reachability change."),await(async function(u){let d=se(u);d.Ia.add(4),await Nc(d),d.Aa.set("Unknown"),d.Ia.delete(4),await bh(d)})(this))})}),this.Aa=new Bv(r,i)}};async function bh(n){if(Mc(n))for(let e of n.da)await e(!0)}async function Nc(n){for(let e of n.da)await e(!1)}function R0(n,e){let t=se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),p_(t)?f_(t):ss(t).x_()&&h_(t,e))}function d_(n,e){let t=se(n),r=ss(t);t.Ta.delete(e),r.x_()&&N0(t,e),t.Ta.size===0&&(r.x_()?r.B_():Mc(t)&&t.Aa.set("Unknown"))}function h_(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ss(n).H_(e)}function N0(n,e){n.Ra.$e(e),ss(n).Y_(e)}function f_(n){n.Ra=new rv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ss(n).start(),n.Aa.aa()}function p_(n){return Mc(n)&&!ss(n).M_()&&n.Ta.size>0}function Mc(n){return se(n).Ia.size===0}function M0(n){n.Ra=void 0}async function C2(n){n.Aa.set("Online")}async function S2(n){n.Ta.forEach((e,t)=>{h_(n,e)})}async function A2(n,e){M0(n),p_(n)?(n.Aa.la(e),f_(n)):n.Aa.set("Unknown")}async function R2(n,e,t){if(n.Aa.set("Online"),e instanceof nh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})(n,e)}catch(r){P(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _S(n,r)}else if(e instanceof Vo?n.Ra.Ye(e):e instanceof th?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Q.min()))try{let r=await S0(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(d);f&&o.Ta.set(d,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,d)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(st.EMPTY_BYTE_STRING,f.snapshotVersion)),N0(o,u);let p=new Dc(f.target,u,d,f.sequenceNumber);h_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){P(ns,"Failed to raise snapshot:",r),await _S(n,r)}}async function _S(n,e,t){if(!os(e))throw e;n.Ia.add(1),await Nc(n),n.Aa.set("Offline"),t||(t=()=>S0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{P(ns,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await bh(n)})}async function ES(n,e){let t=se(n);t.asyncQueue.verifyOperationInProgress(),P(ns,"RemoteStore received new credentials");let r=Mc(t);t.Ia.add(3),await Nc(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await bh(t)}async function N2(n,e){let t=se(n);e?(t.Ia.delete(2),await bh(t)):e||(t.Ia.add(2),await Nc(t),t.Aa.set("Unknown"))}function ss(n){return n.Va||(n.Va=(function(t,r,i){let o=se(t);return o.ia(),new Lv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:C2.bind(null,n),e_:S2.bind(null,n),n_:A2.bind(null,n),J_:R2.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),p_(n)?f_(n):n.Aa.set("Unknown")):(await n.Va.stop(),M0(n))})),n.Va}var $v=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function k0(n,e){if(qn("AsyncQueue",`${e}: ${n}`),os(n))return new V(x.UNAVAILABLE,`${e}: ${n}`);throw n}var lh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||U.comparator(t.key,r.key):(t,r)=>U.comparator(t.key,r.key),this.keyedMap=cc(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var dh=class{constructor(){this.fa=new Me(U.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):z(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},rs=class n{constructor(e,t,r,i,o,s,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,lh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Hv=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},zv=class{constructor(){this.queries=wS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=se(t),o=i.queries;i.queries=wS(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(x.ABORTED,"Firestore shutting down"))}};function wS(){return new Kn(n=>u0(n),Dh)}async function M2(n,e){let t=se(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Hv,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let c=k0(s,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&g_(t)}async function k2(n,e){let t=se(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function x2(n,e){let t=se(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&g_(t)}function P2(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function g_(n){n.Da.forEach(e=>{e.next()})}var qv,IS;(IS=qv||(qv={})).Fa="default",IS.Cache="cache";var Wv=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==qv.Cache}};var hh=class{constructor(e){this.key=e}},fh=class{constructor(e){this.key=e}},Gv=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ae(),this.mutatedKeys=ae(),this.Xa=l0(e),this.eu=new lh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new dh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=Th(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),N=!1;m&&v?m.data.isEqual(v.data)?S!==R&&(r.track({type:3,doc:v}),N=!0):this.iu(m,v)||(r.track({type:2,doc:v}),N=!0,(u&&this.Xa(v,u)>0||d&&this.Xa(v,d)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),N=!0):m&&!v&&(r.track({type:1,doc:m}),N=!0,(u||d)&&(c=!0)),N&&(v?(s=s.add(v),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(v,S){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{At:N})}};return R(v)-R(S)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,d=u!==this.Ya;return this.Ya=u,s.length!==0||d?{snapshot:new rs(this.query,e.eu,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new dh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new fh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new hh(r))}),t}uu(e){this.Ha=e.qs,this.Za=ae();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return rs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},m_="SyncEngine",Kv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Qv=class{constructor(e){this.key=e,this.lu=!1}},Yv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Kn(c=>u0(c),Dh),this.Tu=new Map,this.Iu=new Set,this.du=new Me(U.comparator),this.Eu=new Map,this.Au=new bc,this.Ru={},this.Vu=new Map,this.mu=Tc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function O2(n,e,t=!0){let r=L0(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await x0(r,e,t,!0),i}async function F2(n,e){let t=L0(n);await x0(t,e,!0,!1)}async function x0(n,e,t,r){let i=await D2(n.localStore,En(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=await L2(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&R0(n.remoteStore,i),c}async function L2(n,e,t,r,i){n.gu=(p,m,v)=>(async function(R,N,F,Z){let Y=N.view.nu(F);Y.Ds&&(Y=await mS(R.localStore,N.query,!1).then(({documents:I})=>N.view.nu(I,Y)));let ve=Z&&Z.targetChanges.get(N.targetId),at=Z&&Z.targetMismatches.get(N.targetId)!=null,fe=N.view.applyChanges(Y,R.isPrimaryClient,ve,at);return TS(R,N.targetId,fe._u),fe.snapshot})(n,p,m,v);let o=await mS(n.localStore,e,!0),s=new Gv(e,o.qs),c=s.nu(o.documents),u=Ic.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(c,n.isPrimaryClient,u);TS(n,t,d._u);let f=new Kv(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),d.snapshot}async function V2(n,e,t){let r=se(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Dh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&d_(r.remoteStore,i.targetId),Zv(r,i.targetId)}).catch(Eh)):(Zv(r,i.targetId),await Rv(r.localStore,i.targetId,!0))}async function j2(n,e){let t=se(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),d_(t.remoteStore,r.targetId))}async function P0(n,e){let t=se(n);try{let r=await w2(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Te(s.lu,14607):i.removedDocuments.size>0&&(Te(s.lu,42227),s.lu=!1))}),await F0(t,r,e)}catch(r){await Eh(r)}}function DS(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=se(s);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(d=!0)}),d&&g_(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B2(n,e,t){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Me(U.comparator);s=s.insert(o,rn.newNoDocument(o,Q.min()));let c=ae().add(o),u=new eh(Q.min(),new Map,new Me(te),s,c);await P0(r,u),r.du=r.du.remove(o),r.Eu.delete(e),y_(r)}else await Rv(r.localStore,e,!1).then(()=>Zv(r,e,t)).catch(Eh)}function Zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||O0(n,r)})}function O0(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(d_(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),y_(n))}function TS(n,e,t){for(let r of t)r instanceof hh?(n.Au.addReference(r.key,e),U2(n,r)):r instanceof fh?(P(m_,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||O0(n,r.key)):z(19791,{yu:r})}function U2(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(P(m_,"New document in limbo: "+t),n.Iu.add(r),y_(n))}function y_(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new U(Ne.fromString(e)),r=n.mu.next();n.Eu.set(r,new Qv(t)),n.du=n.du.insert(t,r),R0(n.remoteStore,new Dc(En(u_(t.path)),r,"TargetPurposeLimboResolution",i_.ue))}}async function F0(n,e,t){let r=se(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){let p=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);let p=bv.Es(u.targetId,d);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,d){let f=se(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(d,m=>M.forEach(m.Is,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>M.forEach(m.ds,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!os(p))throw p;P(l_,"Failed to update sequence numbers: "+p)}for(let p of d){let m=p.targetId;if(!p.fromCache){let v=f.Fs.get(m),S=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(S);f.Fs=f.Fs.insert(m,R)}}})(r.localStore,o))}async function $2(n,e){let t=se(n);if(!t.currentUser.isEqual(e)){P(m_,"User change. New user:",e.toKey());let r=await C0(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(x.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await F0(t,r.Bs)}}function H2(n,e){let t=se(n),r=t.Eu.get(e);if(r&&r.lu)return ae().add(r.key);{let i=ae(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function L0(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=P0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B2.bind(null,e),e.hu.J_=x2.bind(null,e.eventManager),e.hu.pu=P2.bind(null,e.eventManager),e}var V0=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=A0(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return E2(this.persistence,new Sv,t.initialUser,this.serializer)}Du(t){return new oh(Tv.Vi,this.serializer)}bu(t){return new Nv}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Jv=class extends V0{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Te(this.persistence.referenceDelegate instanceof sh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new dv(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new oh(r=>sh.Vi(r,t),this.serializer)}};var z2=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$2.bind(null,this.syncEngine),await N2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zv})()}createDatastore(t){let r=A0(t.databaseInfo.databaseId),i=(function(s){return new Ov(s)})(t.databaseInfo);return(function(s,c,u,d){return new jv(s,c,u,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new Uv(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>DS(this.syncEngine,r,0),(function(){return ch.C()?new ch:new Mv})())}createSyncEngine(t,r){return(function(o,s,c,u,d,f,p){let m=new Yv(o,s,c,u,d,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=se(o);P(ns,"RemoteStore shutting down."),s.Ia.add(5),await Nc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var Xv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ar="FirestoreClient",e_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{P(Ar,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(P(Ar,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=k0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Ay(n,e){n.asyncQueue.verifyOperationInProgress(),P(Ar,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await C0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{br("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{P("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{br("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function bS(n,e){n.asyncQueue.verifyOperationInProgress();let t=await q2(n);P(Ar,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ES(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ES(e.remoteStore,i)),n._onlineComponents=e}async function q2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){P(Ar,"Using user provided OfflineComponentProvider");try{await Ay(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;br("Error using user provided cache. Falling back to memory cache: "+t),await Ay(n,new V0)}}else P(Ar,"Using default OfflineComponentProvider"),await Ay(n,new Jv(void 0));return n._offlineComponents}async function W2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(P(Ar,"Using user provided OnlineComponentProvider"),await bS(n,n._uninitializedComponentsProvider._online)):(P(Ar,"Using default OnlineComponentProvider"),await bS(n,new z2))),n._onlineComponents}async function CS(n){let e=await W2(n),t=e.eventManager;return t.onListen=O2.bind(null,e.syncEngine),t.onUnlisten=V2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j2.bind(null,e.syncEngine),t}function j0(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var SS=new Map;var B0="firestore.googleapis.com",AS=!0,ph=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B0,this.ssl=AS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=b0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y2)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ph({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ph(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ry;switch(r.type){case"firstParty":return new xy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=SS.get(t);r&&(P("ComponentProvider","Removing Datastore"),SS.delete(t),r.terminate())})(this),Promise.resolve()}};function U0(n,e,t,r={}){var i;n=Ud(n,Cc);let o=ui(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(xm(`https://${u}`),Pm("Firestore",!0)),s.host!==B0&&s.host!==u&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!li(d,c)&&(n._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ke.MOCK_USER;else{f=jb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(m)}n._authCredentials=new Ny(new zd(f,p))}}var gh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ac(t,n._jsonSchema))return new n(e,r||null,new U(Ne.fromString(t.referencePath)))}};wn._jsonSchemaVersion="firestore/documentReference/1.0",wn._jsonSchema={type:Le("string",wn._jsonSchemaVersion),referencePath:Le("string")};var Bo=class n extends gh{constructor(e,t,r){super(e,t,u_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new U(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function $0(n,e,...t){if(n=jn(n),dV("collection","path",e),n instanceof Cc){let r=Ne.fromString(e,...t);return qC(r),new Bo(n,null,r)}{if(!(n instanceof wn||n instanceof Bo))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ne.fromString(e,...t));return qC(r),new Bo(n.firestore,null,r)}}var RS="AsyncQueue",mh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new uh(this,"async_queue_retry"),this.oc=()=>{let r=Sy();r&&P(RS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Sy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Sy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Tr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!os(e))throw e;P(RS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,qn("INTERNAL UNHANDLED ERROR: ",NS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=$v.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&z(47125,{hc:NS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function NS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function MS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Sc=class extends Cc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mh(e),this._firestoreClient=void 0,await e}}};function H0(n,e){let t=typeof n=="object"?n:Ro(),r=typeof n=="string"?n:e||Zd,i=vd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Lb("firestore");o&&U0(i,...o)}return i}function G2(n){if(n._terminated)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||K2(n),n._firestoreClient}function K2(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,d,f){return new Vy(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,j0(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new e_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Uo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(st.fromBase64String(e))}catch(t){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Uo._jsonSchemaVersion="firestore/bytes/1.0",Uo._jsonSchema={type:Le("string",Uo._jsonSchemaVersion),bytes:Le("string")};var yh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $o=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};$o._jsonSchemaVersion="firestore/geoPoint/1.0",$o._jsonSchema={type:Le("string",$o._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};var Ho=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ho._jsonSchemaVersion="firestore/vectorValue/1.0",Ho._jsonSchema={type:Le("string",Ho._jsonSchemaVersion),vectorValues:Le("object")};var Q2=new RegExp("[~\\*/\\[\\]]");function Y2(n,e,t){if(e.search(Q2)>=0)throw kS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yh(...e.split("."))._internalPath}catch{throw kS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kS(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(x.INVALID_ARGUMENT,c+n+u)}var vh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new t_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(z0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},t_=class extends vh{data(){return super.data()}};function z0(n,e){return typeof e=="string"?Y2(n,e):e instanceof yh?e._internalPath:e._delegate._internalPath}function Z2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var n_=class{convertValue(e,t="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Rc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[mc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>De(s.doubleValue));return new Ho(o)}convertGeoPoint(e){return new $o(De(e.latitude),De(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ih(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let t=Wn(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ne.fromString(e);Te(T0(r),9688,{name:e});let i=new Jd(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(t)||qn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Ii=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Di=class n extends vh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(z0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Di._jsonSchemaVersion="firestore/documentSnapshot/1.0",Di._jsonSchema={type:Le("string",Di._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};var zo=class extends Di{data(e={}){return super.data(e)}},qo=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ii(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zo(this._firestore,this._userDataWriter,r.key,r,new Ii(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new zo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ii(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new zo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ii(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:J2(c.type),doc:u,oldIndex:d,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function J2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Le("string",qo._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};var _h=class extends n_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}};function v_(n,...e){var t,r,i;n=jn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||MS(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MS(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,d,f;if(n instanceof wn)d=Ud(n.firestore,Sc),f=u_(n._key.path),u={next:p=>{e[s]&&e[s](X2(d,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Ud(n,gh);d=Ud(p.firestore,Sc),f=p._query;let m=new _h(d);u={next:v=>{e[s]&&e[s](new qo(d,m,p,v))},error:e[s+1],complete:e[s+2]},Z2(n._query)}return(function(m,v,S,R){let N=new Xv(R),F=new Wv(v,N,S);return m.asyncQueue.enqueueAndForget(async()=>M2(await CS(m),F)),()=>{N.Ou(),m.asyncQueue.enqueueAndForget(async()=>k2(await CS(m),F))}})(G2(d),f,c,u)}function X2(n,e,t){let r=t.docs.get(e._key),i=new _h(n);return new Di(n,i,e._key,r,new Ii(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){is=i})(Ao),en(new pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Sc(new My(r.getProvider("auth-internal")),new Py(s,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(d.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Re(UC,$C,e),Re(UC,$C,"esm2017")})();var Ch=function(){return Ch=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ch.apply(this,arguments)};var nj={includeMetadataChanges:!1};function q0(n,e){return e===void 0&&(e=nj),new G(function(t){var r=v_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function W0(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Ch(Ch({},r),(t={},t[e.idField]=n.id,t))}function G0(n){return q0(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function K0(n,e){return e===void 0&&(e={}),G0(n).pipe(X(function(t){return t.map(function(r){return W0(r,e)})}))}var Ci=class{constructor(e){return e}},Q0="firestore",__=class{constructor(){return Mo(Q0)}};var E_=new B("angularfire2.firestore-instances");function rj(n,e){let t=wd(Q0,n,e);return t&&new Ci(t)}function ij(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ci(r)}}var oj={provide:__,deps:[[new kn,E_]]},sj={provide:Ci,useFactory:rj,deps:[[new kn,E_],gi]};function Y0(n,...e){return Re("angularfire",fi.full,"fst"),lr([sj,oj,{provide:E_,useFactory:ij(n),multi:!0,deps:[pe,Xe,pi,ec,[new kn,Od],[new kn,Dd],...e]}])}var Z0=wr(K0,!0);var J0=wr($0,!0,2);var X0=wr(H0,!0);var Sh=class n{constructor(e,t){this.route=e;this.firestore=t}posts$;ngOnInit(){this.posts$=this.getPosts(),this.posts$.subscribe(e=>{console.log(e)})}getPosts(){let e=J0(this.firestore,"posts");return Z0(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(ht(Jt),ht(Ci))};static \u0275cmp=Dt({type:n,selectors:[["app-blog-post"]],decls:10,vars:0,consts:[[1,"content"],["routerLink","/",1,"header-link"],[1,"header"],[1,"blinking-underscore"],[1,"arrow"],["routerLink","/blog"]],template:function(t,r){t&1&&(ge(0,"main",0)(1,"a",1)(2,"div",2)(3,"h1",3),we(4,"_"),me(),ge(5,"h1"),we(6,"ad"),me()()(),ge(7,"div",4)(8,"a",5),we(9,"\u21A9"),me()()())},dependencies:[vr],styles:[".content[_ngcontent-%COMP%]{max-width:540px;margin:0 auto;padding:40px 20px;font-family:IBM Plex Mono,monospace;min-height:75vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{background-color:#efe7d3;color:#1a0089;font-family:IBM Plex Mono,monospace}.header[_ngcontent-%COMP%]{display:flex;font-size:xx-large;padding-bottom:10%}.header-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.blinking-underscore[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s steps(1) infinite}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:0}}.arrow[_ngcontent-%COMP%]{font-size:medium;text-align:right}.arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]})};var eA=[{path:"",component:ld,pathMatch:"full"},{path:"blog",component:hd},{path:"blog/:slug",component:Sh,data:{renderMode:"client"}},{path:"**",redirectTo:""}];var tA={firebase:{apiKey:"AIzaSyD36Ee9t19WCeqe5fglERI6H4OSIFCbDOo",authDomain:"ad-blog-297cb.firebaseapp.com",projectId:"ad-blog-297cb",storageBucket:"ad-blog-297cb.firebasestorage.app",messagingSenderId:"968105773458",appId:"1:968105773458:web:42f6f70866d62fc851d94b",measurementId:"G-JZLN10KWS3"}};Zg(ud,{providers:[wm(eA,Im()),lC(()=>dC(tA.firebase)),Y0(()=>X0())]});
